<?xml version="1.0" encoding="UTF-8" ?>
<project name="Snowflake" id="Project-235c" database="Snowflake" >
	<schema name="DW" catalogname="CUTTER_DW" options="CUTTER_DW.DW COMMENT=&#039;Data Warehouse schema&#039;" >
		<table name="DIM_ACCOUNT" row_count="0" spec=" or replace" >
			<comment><![CDATA[Contains the client accounts. A client can have multiple accounts. An account can belong to multiple clients (Ref: CAPE Data POV Deck 4x3 slide 19).]]></comment>
			<column name="ACCOUNT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for an account in Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="ACCOUNT_NUMBER" type="varchar" length="30" jt="12" >
				<comment><![CDATA[The account number in the CRM system e.g. Salesforce]]></comment>
			</column>
			<column name="ACCOUNT_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The name of the client account from the CRM system e.g. Salesforce]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this broker, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_ACCOUNT_ACCOUNT_KEY" unique="PRIMARY_KEY" >
				<column name="ACCOUNT_KEY" />
			</index>
		</table>
		<table name="DIM_ATTRIBUTION_METHOD" row_count="6" spec=" or replace" >
			<comment><![CDATA[This dimension contains the methodology/approach used in calculating performance attribution, i.e. how much contribution each country/currency/sector. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="ATTRIBUTION_METHOD_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The unique identifier for attribution method in the Showflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="ATTRIBUTION_METHOD_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[By what factor the performance return is allocated e.g. by country, by currency, or by sector e.g. by country (excluding Japan), by currency, by fixed income sector, by GICS sector]]></comment>
			</column>
			<column name="ATTRIBUTION_METHOD_DESCRIPTION" type="varchar" length="200" jt="12" >
				<comment><![CDATA[Full description of the Attribution Method Name field, explaining any exceptions in the calculation, which yield curve is used, what duration is used (spread/modified/effective), carry/FX rate impact, etc.]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this attribution method, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_ATTRIBUTION_METHOD_ATTRIBUTION_METHOD_KEY" unique="PRIMARY_KEY" >
				<column name="ATTRIBUTION_METHOD_KEY" />
			</index>
		</table>
		<table name="DIM_BENCHMARK" row_count="4" spec=" or replace" >
			<comment><![CDATA[Contains benchmark code and name.
SCD type: type 2.]]></comment>
			<column name="BENCHMARK_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a benchmark in Snowflake data warehouse (integer, primary key)]]></comment>
			</column>
			<column name="BENCHMARK_CODE" type="varchar" length="50" jt="12" mandatory="y" >
				<comment><![CDATA[The benchmark code from Rimes or MSCI]]></comment>
			</column>
			<column name="BENCHMARK_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The benchmark name from Rimes or MSCI]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="IS_CURRENT" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the current/latest row for this portfolio, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_BENCHMARK_BENCHMARK_KEY" unique="PRIMARY_KEY" >
				<column name="BENCHMARK_KEY" />
			</index>
		</table>
		<table name="DIM_BROKER" row_count="0" spec=" or replace" >
			<comment><![CDATA[Contains the brokers involved in the purchase or sale of securities/holdings. This dimension is used in the transaction fact table. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="BROKER_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a broker in the Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="BROKER_CODE" type="varchar" length="30" jt="12" >
				<comment><![CDATA[Unique identifier for a broker from the source system]]></comment>
			</column>
			<column name="BROKER_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Name of the brokerage firm]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this broker, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_BROKER_BROKER_KEY" unique="PRIMARY_KEY" >
				<column name="BROKER_KEY" />
			</index>
		</table>
		<table name="DIM_CLIENT" row_count="0" spec=" or replace" >
			<comment><![CDATA[Contains clients and prospects, which can be a firm, an office, or a financial advisor (or advisory team). A client can have no account, no product, no portfolio (i.e. still a prospect). A client can have multiple accounts. An account can belong to multiple clients (Ref: CAPE Data POV Deck 4x3 slide 19).]]></comment>
			<column name="CLIENT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a client in Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="CLIENT_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The company name of the client office/firm/advisor]]></comment>
			</column>
			<column name="CLIENT_DESCRIPTION" type="varchar" length="16777216" jt="12" >
				<comment><![CDATA[Describe the client e.g. a group of financial advisors who collectively service an investor, or a company that offers investment services through financial advisors]]></comment>
			</column>
			<column name="STREET_ADDRESS" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Location of the client's office]]></comment>
			</column>
			<column name="CITY" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Location of the client's office]]></comment>
			</column>
			<column name="STATE" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Location of the client's office]]></comment>
			</column>
			<column name="ZIP_CODE" type="varchar" length="20" jt="12" >
				<comment><![CDATA[Location of the client's office]]></comment>
			</column>
			<column name="TELEPHONE_NUMBER" type="varchar" length="30" jt="12" >
				<comment><![CDATA[The company telephone number]]></comment>
			</column>
			<column name="CONTACT_NAME" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Name of the contact person]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this broker, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_CLIENT_CLIENT_KEY" unique="PRIMARY_KEY" >
				<column name="CLIENT_KEY" />
			</index>
		</table>
		<table name="DIM_COUNTRY" row_count="250" spec=" or replace" >
			<comment><![CDATA[Contains 249 countries from ISO 3166. Also contains region i.e. Asia Pacific, EMEA, North/South America. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="COUNTRY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a country in the Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="COUNTRY_CODE" type="varchar" length="5" jt="12" >
				<comment><![CDATA[2 character country code from ISO 3166 e.g. FR for France]]></comment>
			</column>
			<column name="COUNTRY_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ISO 3166 country name (not the formal/UN country name) e.g. China, not The People's Republic of China]]></comment>
			</column>
			<column name="REGION" type="varchar" length="50" jt="12" >
				<comment><![CDATA[APAC (Asia-Pacific), EMEA (Europe, the Middle East and Africa), NA (North America), LATAM (Latin America)]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this country, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_COUNTRY_COUNTRY_KEY" unique="PRIMARY_KEY" >
				<column name="COUNTRY_KEY" />
			</index>
		</table>
		<table name="DIM_CURRENCY" row_count="164" spec=" or replace" >
			<comment><![CDATA[Contains 300 currencies from ISO 4217. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="CURRENCY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a currency in the Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="CURRENCY_CODE" type="varchar" length="5" jt="12" >
				<comment><![CDATA[3 character currency codes from ISO 4217 e.g. CHF, AUD]]></comment>
			</column>
			<column name="CURRENCY_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Name of the currency from ISO 4217, e.g. Swiss Frank, Australian Dollar]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this currency, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_CURRENCY_CURRENCY_KEY" unique="PRIMARY_KEY" >
				<column name="CURRENCY_KEY" />
			</index>
		</table>
		<table name="DIM_CUSTOM_ATTRIBUTION_FACTOR" row_count="122" spec=" or replace" >
			<comment><![CDATA[Contains custom attribution factors (instead of the standard country/currency/sector), up to 4 levels. For example: GICS sector as level 1 and country as level 2.]]></comment>
			<column name="ATTRIBUTION_FACTOR_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The unique identifier for the attribution factor dimension (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="ATTRIBUTION_FACTOR_LEVEL1" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The highest level of attribution factor hierarchy]]></comment>
			</column>
			<column name="ATTRIBUTION_FACTOR_LEVEL2" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The second highest level of attribution factor hierarchy]]></comment>
			</column>
			<column name="ATTRIBUTION_FACTOR_LEVEL3" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The third highest level of attribution factor hierarchy]]></comment>
			</column>
			<column name="ATTRIBUTION_FACTOR_LEVEL4" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The lowest level of attribution factor hierarchy]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this sector, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_ATTRIBUTION_FACTOR_ATTRIBUTION_FACTOR_KEY" unique="PRIMARY_KEY" >
				<column name="ATTRIBUTION_FACTOR_KEY" />
			</index>
		</table>
		<table name="DIM_DATE" row_count="365" spec=" or replace" >
			<comment><![CDATA[Contains all the dates from the last 50 years to the next 50 years, with their attributes. This dimension is a Slowly Changing Dimension type 0 (static)]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[e.g. 20230710 (YYYYMMDD)]]></comment>
			</column>
			<column name="DATE" type="date" jt="91" mandatory="y" >
				<comment><![CDATA[e.g. 2023-07-10 (YYYY-MM-DD)]]></comment>
			</column>
			<column name="DAY" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[e.g. 1, 3, 29, 31]]></comment>
			</column>
			<column name="WEEKDAY_NAME" type="varchar" length="20" jt="12" >
				<comment><![CDATA[e.g. Monday, Tuesday, etc.]]></comment>
			</column>
			<column name="WEEK_NUMBER" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[How many weeks since January 1st, from 1 to 53]]></comment>
			</column>
			<column name="MONTH_NUMBER" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[e.g. 1, 3, 9, 12]]></comment>
			</column>
			<column name="MONTH_NAME" type="varchar" length="10" jt="12" >
				<comment><![CDATA[e.g. January, March]]></comment>
			</column>
			<column name="QUARTER" type="varchar" length="5" jt="12" >
				<comment><![CDATA[e.g. Q1, Q2, Q3, Q4]]></comment>
			</column>
			<column name="YEAR" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[e.g. 2023]]></comment>
			</column>
			<column name="WEEKDAY_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[1 for Monday to Friday, 0 otherwise]]></comment>
			</column>
			<column name="MONTH_END_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[1 for month end, 0 otherwise]]></comment>
			</column>
			<column name="QUARTER_END_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[1 for quarter end, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_DATE_DATE_KEY" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
			</index>
		</table>
		<table name="DIM_ISSUER" row_count="600" spec=" or replace" >
			<comment><![CDATA[Contains the issuers of security. An issuer can be a company, a sovereign (country level government), a local authority (district/city/state level government), or a government agency (e.g. Fannie Mae). This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="ISSUER_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for an issuer in Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="ISSUER_ID" type="varchar" length="20" jt="12" >
				<comment><![CDATA[12 characters Bloomberg issuer ID (Mnemonic: ID_BB_COMPANY). Or sourced from Factset (Symbology field name: SYM.ENTITY_ID)]]></comment>
			</column>
			<column name="ISSUER_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The formal issuer name from Bloomberg e.g. Pepsi Co Inc (no comma or period), Hershey Co/The (the at the end). Or from Factset (Symbology field name: SYM.ENTITY_NAME). Dun and Bradstreet does not cover all issuers (it only covers companies).]]></comment>
			</column>
			<column name="ISSUER_LEI" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Legal Entity Identifer covering 1.4 million legal entities in more than 200 countries, including public sector and government bodies.]]></comment>
			</column>
			<column name="FACTSET_ENTITY_ID" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Unique issuer identifier in Factset. Symbology field name: SYM.ENTITY_ID.]]></comment>
			</column>
			<column name="HEADQUARTERS_STREET_ADDRESS" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Location of the corporate headquaters for this company/agency/government body]]></comment>
			</column>
			<column name="HEADQUARTERS_CITY" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Location of the corporate headquaters for this company/agency/government body]]></comment>
			</column>
			<column name="HEADQUARTERS_STATE" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Location of the corporate headquaters for this company/agency/government body]]></comment>
			</column>
			<column name="HEADQUARTERS_ZIP_CODE" type="varchar" length="20" jt="12" >
				<comment><![CDATA[Location of the corporate headquaters for this company/agency/government body]]></comment>
			</column>
			<column name="HEADQUARTERS_COUNTRY_CODE" type="varchar" length="5" jt="12" >
				<comment><![CDATA[Location of the corporate headquaters for this company/agency/government body]]></comment>
			</column>
			<column name="PARENT_ISSUER_ID" type="varchar" length="50" jt="12" >
				<comment><![CDATA[The parent of this issuer in Bloomberg issuer hierarchy (or from Factset)]]></comment>
			</column>
			<column name="PARENT_ISSUER_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The parent of this issuer in Bloomberg issuer hierarchy (or from Factset)]]></comment>
			</column>
			<column name="ULTIMATE_PARENT_ISSUER_ID" type="varchar" length="50" jt="12" >
				<comment><![CDATA[The top level parent of this issuer in Bloomberg issuer hierarchy (or from Factset)]]></comment>
			</column>
			<column name="ULTIMATE_PARENT_ISSUER_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The top level parent of this issuer in Bloomberg issuer hierarchy (or from Factset)]]></comment>
			</column>
			<column name="COUNTRY_OF_RISK" type="varchar" length="5" jt="12" >
				<comment><![CDATA[2 characters country code (ISO 3166) where the business is operating and the revenues are generated]]></comment>
			</column>
			<column name="COUNTRY_OF_DOMICILE" type="varchar" length="5" jt="12" >
				<comment><![CDATA[2 characters country code (ISO 3166) where the business is registered for paying taxes, it's usually where the headquarter is located.]]></comment>
			</column>
			<column name="COUNTRY_OF_INCORPORATION" type="varchar" length="5" jt="12" >
				<comment><![CDATA[2 characters country code (ISO 3166) where the business is registered legally, i.e. which state/country law governs this company/entity]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL1" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 1) from MSCI's Global Industrial Classification Scheme, e.g. Health Care, Financials, Information Technology, Communication, Industrial]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL2" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 2) from MSCI's Global Industrial Classification Scheme, e.g. Health Care Equipment & Services, Banks, Software & Services, Capital Goods]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL3" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 3) from MSCI's Global Industrial Classification Scheme, e.g. Health Care Providers & Services, Capital Markets, IT Services, Machinery]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL4" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 4) from MSCI's Global Industrial Classification Scheme, e.g. Health Care Facilities, Asset Management & Custody Banks, Internet Services & Infrastructure, Research & Consulting Services]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL1" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 1 (asset class) e.g. Sovereign, Corporate, Securitized/Collateralized, Preferred Securities, Municipal]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL2" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 2 (group) e.g. Sovereign, Financial, Industrials, Securitized, Revenue]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL3" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 3 (category) e.g. Sovereign, Financial Services, Automotive, Agency, Local-Authority, Supranational, Asset Backed, Revenue - Airport, Pfd-Basic Industry]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL4" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 4 (sub category) e.g. Sovereign, Investments & Misc Financial Services, Beverage, ABS Home Equity Loans, Revenue - Health]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this security, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_ISSUER_ISSUER_KEY" unique="PRIMARY_KEY" >
				<column name="ISSUER_KEY" />
			</index>
		</table>
		<table name="DIM_PERFORMANCE_RETURN_PERIOD" row_count="10" spec=" or replace" >
			<comment><![CDATA[Contains the performance return periods such as 1M, 3M, 6M, 1Y, 3Y, etc.]]></comment>
			<column name="PERFORMANCE_RETURN_PERIOD_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The unique identifier for performance return period in the Showflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="PERFORMANCE_RETURN_PERIOD_CODE" type="varchar" length="30" jt="12" >
				<comment><![CDATA[The period codes such as 1M, 3M, 1Y, 3Y, YTD and SI.]]></comment>
			</column>
			<column name="PERFORMANCE_RETURN_PERIOD_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The period names e.g. 1 month, 3 months, 1 year, 3 year, Year To Date and Since Inception]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this attribution method, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_PERFORMANCE_RETURN_PERIOD_PERFORMANCE_RETURN_PERIOD_KEY" unique="PRIMARY_KEY" >
				<column name="PERFORMANCE_RETURN_PERIOD_KEY" />
			</index>
		</table>
		<table name="DIM_PERFORMANCE_RETURN_TYPE" row_count="4" spec=" or replace" >
			<comment><![CDATA[Contains the performance return type/flavor i.e. whether the performance returns are calculated before the fees are deducted (gross) or after the fees are deducted (net), cumulative or annualized, arithmetic or geometric (compound growth), or custom method such as using mid-day prices (instead of closing prices), or using accrual approach. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="PERFORMANCE_RETURN_TYPE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a performance return type i.e. combination of gross/net, accumulative/annualised, arithmetic/geometric, etc. (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="PERFORMANCE_RETURN_TYPE_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Indicates whether the performance returns are calculated before the fees are deducted (gross) or after the fees are deducted (net), cumulative or annualized, arithmetic or geometric (compound growth), or custom method such as using mid-day prices (instead of closing prices), or using accrual approach.]]></comment>
			</column>
			<column name="PERFORMANCE_RETURN_TYPE_DESCRIPTION" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The long description of the Performance Return Type Name field explaining the methodology of calculating performance return]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this performance type, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_PERFORMANCE_TYPE_PERFORMANCE_TYPE_KEY" unique="PRIMARY_KEY" >
				<column name="PERFORMANCE_RETURN_TYPE_KEY" />
			</index>
		</table>
		<table name="DIM_PORTFOLIO" row_count="5" spec=" or replace" >
			<comment><![CDATA[Contains portfolio attributes. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a portfolio in Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="PORTFOLIO_CODE" type="varchar" length="50" jt="12" mandatory="y" >
				<comment><![CDATA[Formal portfolio code as defined by the product team]]></comment>
			</column>
			<column name="PORTFOLIO_LEGAL_NAME" type="varchar" length="200" jt="12" >
				<comment><![CDATA[The portfolio legal name as registered in SEC and FCA]]></comment>
			</column>
			<column name="PORTFOLIO_SHORT_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Formal portfolio short name as defined by the product team for sales literature and internal website]]></comment>
			</column>
			<column name="PORTFOLIO_STATUS" type="varchar" length="30" jt="12" >
				<comment><![CDATA[e.g. active, closed (or not yet launched)]]></comment>
			</column>
			<column name="PORTFOLIO_TYPE" type="varchar" length="30" jt="12" >
				<comment><![CDATA[e.g. fund, SMA, ETF, CIT]]></comment>
			</column>
			<column name="BASE_CURRENCY" type="varchar" length="10" jt="12" >
				<comment><![CDATA[The base currency of the portfolio. All holdings are stored in this currency, as well as in the local/native currency.]]></comment>
			</column>
			<column name="INCEPTION_DATE" type="date" jt="91" >
				<comment><![CDATA[when money first flows into this portfolio and being managed there]]></comment>
			</column>
			<column name="BENCHMARK_CODE" type="varchar" length="50" jt="12" >
				<comment><![CDATA[the benchmark for this portfolio]]></comment>
			</column>
			<column name="PORTFOLIO_GROUP" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Category based on geography and asset class, e.g. European Equities, Sustainable Fixed Income]]></comment>
			</column>
			<column name="LEGAL_STRUCTURE" type="varchar" length="100" jt="12" >
				<comment><![CDATA[e.g. unit trust, mutual fund, UCITS]]></comment>
			</column>
			<column name="TAX_EXEMPT_INDICATOR" type="boolean" jt="16" >
				<comment><![CDATA[1 if this portfolio is tax exempt, 0 otherwise]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this portfolio, 0 otherwise]]></comment>
			</column>
			<index name="PK_PORTFOLIO" unique="PRIMARY_KEY" >
				<column name="PORTFOLIO_KEY" />
			</index>
		</table>
		<table name="DIM_PRODUCT" row_count="0" spec=" or replace" >
			<comment><![CDATA[A product is a combination of an investment team, an investment strategy, and an investment vehicle. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="PRODUCT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a product in Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="PRODUCT_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Name of the product, e.g. Columbia Disciplined Growth Fund]]></comment>
			</column>
			<column name="PRODUCT_DESCRIPTION" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Full description of the investment product]]></comment>
			</column>
			<column name="PRODUCT_LEGAL_STRUCTURE" type="varchar" length="16777216" jt="12" >
				<comment><![CDATA[e.g. Fund, UCITS, unit trust]]></comment>
			</column>
			<column name="PRODUCT_FEE_STRUCTURE" type="varchar" length="100" jt="12" >
				<comment><![CDATA[e.g. Sales charge 5%, management fees 0.75%, distribution fees 0.25%]]></comment>
			</column>
			<column name="PRODUCT_REGULATOR" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Government body who regulates this product, e.g. SEC, FCA.]]></comment>
			</column>
			<column name="INVESTMENT_TEAM" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The group of individuals who manage assets on behalf of investors]]></comment>
			</column>
			<column name="INVESTMENT_STRATEGY" type="varchar" length="100" jt="12" >
				<comment><![CDATA[A set of rules, behaviors, or procedures to guide investment decisions]]></comment>
			</column>
			<column name="INVESTMENT_VEHICLE" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Legal structure used to invest money on behalf of investors]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this product, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_PRODUCT_PRODUCT_KEY" unique="PRIMARY_KEY" >
				<column name="PRODUCT_KEY" />
			</index>
		</table>
		<table name="DIM_SECTOR" row_count="454" spec=" or replace" >
			<comment><![CDATA[Contains GICS and ICE (was Merrill Lynch) sectors e.g. Industrial, Financial, Government.
ICE contains fixed income sector e.g. Sovereign, Local Authority, ABS (also contains corporate sectors like Industrial, Financial). Equity portfolios commonly use GICS, whilst fixed income prefer ICE. This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="SECTOR_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a sector in the Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="CLASSIFICATION_SCHEME" type="varchar" length="50" jt="12" >
				<comment><![CDATA[e.g. GICS or ICE (was Merrill Lynch). Equity portfolios commonly use GICS, whilst fixed income prefer ICE.]]></comment>
			</column>
			<column name="SECTOR_CODE_LEVEL1" type="varchar" length="50" jt="12" >
				<comment><![CDATA[GICS or ICE sector code for level 1 (highest level) e.g. 20]]></comment>
			</column>
			<column name="SECTOR_CODE_LEVEL2" type="varchar" length="50" jt="12" >
				<comment><![CDATA[GICS or ICE sector code for level 2 e.g. 2010]]></comment>
			</column>
			<column name="SECTOR_CODE_LEVEL3" type="varchar" length="50" jt="12" >
				<comment><![CDATA[GICS or ICE sector code for level 3 e.g. 201040]]></comment>
			</column>
			<column name="SECTOR_CODE_LEVEL4" type="varchar" length="50" jt="12" >
				<comment><![CDATA[GICS or ICE sector code for level 4 (lowest level) e.g. 20104010]]></comment>
			</column>
			<column name="SECTOR_NAME_LEVEL1" type="varchar" length="100" jt="12" >
				<comment><![CDATA[GICS or ICE Level 1 sector name e.g. Industrial]]></comment>
			</column>
			<column name="SECTOR_NAME_LEVEL2" type="varchar" length="100" jt="12" >
				<comment><![CDATA[GICS or ICE Level 2 sector name e.g. Capital Goods]]></comment>
			</column>
			<column name="SECTOR_NAME_LEVEL3" type="varchar" length="100" jt="12" >
				<comment><![CDATA[GICS or ICE Level 3 sector name e.g. Electrical Equipment]]></comment>
			</column>
			<column name="SECTOR_NAME_LEVEL4" type="varchar" length="100" jt="12" >
				<comment><![CDATA[GICS or ICE Level 4 sector name e.g. Electrical Components & Equipment]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this sector, 0 otherwise]]></comment>
			</column>
			<index name="PK_DIM_SECTOR_SECTOR_KEY" unique="PRIMARY_KEY" >
				<column name="SECTOR_KEY" />
			</index>
		</table>
		<table name="DIM_SECURITY" row_count="633" spec=" or replace" >
			<comment><![CDATA[Contains securities in the security master (mastering/MDM/RDM is done outside the warehouse). This dimension is a Slowly Changing Dimension type 2.]]></comment>
			<column name="SECURITY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Unique identifier for a security/instrument in Snowflake data warehouse (integer, primary key, surrogate key)]]></comment>
			</column>
			<column name="SECURITY_NAME" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Bloomberg name, not Factset, i.e. Tesla Inc (without period)]]></comment>
			</column>
			<column name="SECURITY_TYPE" type="varchar" length="50" jt="12" >
				<comment><![CDATA[Whether the row contains a security or a portfolio. This is used for fund lookthrough, where the Security_Type is set to Portfolio.]]></comment>
			</column>
			<column name="PORTFOLIO_CODE" type="varchar" length="50" jt="12" >
				<comment><![CDATA[For rows with security_type = Portfolio, this column contains the portfolio code. For rows with security_type = Security, this column is blank.]]></comment>
			</column>
			<column name="ISIN" type="varchar" length="20" jt="12" >
				<comment><![CDATA[International Securities Identification Number (12 characters, ISO 6166) e.g. US88160R1014 for Tesla Inc. equity]]></comment>
			</column>
			<column name="SEDOL" type="varchar" length="20" jt="12" >
				<comment><![CDATA[Stock Exchange Daily Official List (7 characters) e.g. A1CX3T for Tesla]]></comment>
			</column>
			<column name="CUSIP" type="varchar" length="20" jt="12" >
				<comment><![CDATA[Committee on Uniform Securities Identification Procedures (9 characters) e.g. 88160R101 for Tesla Inc shares]]></comment>
			</column>
			<column name="TICKER" type="varchar" length="20" jt="12" >
				<comment><![CDATA[Bloomberg Ticker, e.g. TSLA for Tesla Inc. equity]]></comment>
			</column>
			<column name="BLOOMBERG_ID" type="varchar" length="30" jt="12" >
				<comment><![CDATA[Financial Instrument Global Identifier (FIGI) in Bloomberg (ID_BB_GLOBAL)]]></comment>
			</column>
			<column name="FACTSET_ID" type="varchar" length="30" jt="12" >
				<comment><![CDATA[The unique security identifier in Factset Symbology]]></comment>
			</column>
			<column name="ISSUER_KEY" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[The issuer of this security/instrument. It can be a company, sovereign government, government agency or local authority. Foreign key to the issuer dimension. Reason for snowflaking: issuer is an attribute of security so issuer should not be directly attached to fact_holding or fact_benchmark_constituent. This is the only snowflaking in Cutter Snowflake data warehouse (everything else is star schema).]]></comment>
			</column>
			<column name="ASSET_CLASS_LEVEL1" type="varchar" length="50" jt="12" >
				<comment><![CDATA[e.g. equity, fixed income, cash equivalent]]></comment>
			</column>
			<column name="ASSET_CLASS_LEVEL2" type="varchar" length="50" jt="12" >
				<comment><![CDATA[e.g. Ordinary Share, CDS, Option]]></comment>
			</column>
			<column name="ASSET_CLASS_LEVEL3" type="varchar" length="50" jt="12" >
				<comment><![CDATA[e.g. CDS Single Name, CDS Index, Call Option, Put Option, Bond Future]]></comment>
			</column>
			<column name="CURRENCY_CODE" type="varchar" length="5" jt="12" >
				<comment><![CDATA[3 character currency code (ISO 4217) e.g. USD, GBP, EUR, AUD, JPY]]></comment>
			</column>
			<column name="COUNTRY_OF_RISK" type="varchar" length="5" jt="12" >
				<comment><![CDATA[2 characters country code (ISO 3166) where the business is operating and the revenues are generated]]></comment>
			</column>
			<column name="COUNTRY_OF_DOMICILE" type="varchar" length="5" jt="12" >
				<comment><![CDATA[2 characters country code (ISO 3166) where the business is registered for paying taxes, it's usually where the headquarter is located.]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL1" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 1) from MSCI's Global Industrial Classification Scheme, e.g. Health Care, Financials, Information Technology, Communication, Industrial]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL2" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 2) from MSCI's Global Industrial Classification Scheme, e.g. Health Care Equipment & Services, Banks, Software & Services, Capital Goods]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL3" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 3) from MSCI's Global Industrial Classification Scheme, e.g. Health Care Providers & Services, Capital Markets, IT Services, Machinery]]></comment>
			</column>
			<column name="GICS_SECTOR_LEVEL4" type="varchar" length="100" jt="12" >
				<comment><![CDATA[The sector name (level 4) from MSCI's Global Industrial Classification Scheme, e.g. Health Care Facilities, Asset Management & Custody Banks, Internet Services & Infrastructure, Research & Consulting Services]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL1" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 1 (asset class) e.g. Sovereign, Corporate, Securitized/Collateralized, Preferred Securities, Municipal]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL2" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 2 (group) e.g. Sovereign, Financial, Industrials, Securitized, Revenue]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL3" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 3 (category) e.g. Sovereign, Financial Services, Automotive, Agency, Local-Authority, Supranational, Asset Backed, Revenue - Airport, Pfd-Basic Industry]]></comment>
			</column>
			<column name="ICE_SECTOR_LEVEL4" type="varchar" length="100" jt="12" >
				<comment><![CDATA[ICE's (was Merrill Lynch's) fixed income sector classification Level 4 (sub category) e.g. Sovereign, Investments & Misc Financial Services, Beverage, ABS Home Equity Loans, Revenue - Health]]></comment>
			</column>
			<column name="SANDP_RATING_LONG_TERM" type="varchar" length="10" jt="12" >
				<comment><![CDATA[S&P credit rating for long term debt (>1 year), e.g. AAA, AA, A, BBB, BB, B]]></comment>
			</column>
			<column name="SANDP_RATING_SHORT_TERM" type="varchar" length="10" jt="12" >
				<comment><![CDATA[S&P credit rating for short term debt (< 1 year) e.g. A-1, A-2, A-3, B, C]]></comment>
			</column>
			<column name="MOODYS_RATING_LONG_TERM" type="varchar" length="10" jt="12" >
				<comment><![CDATA[Moody's credit rating for long term debt (> 1 year), e.g. Aaa, Aa1, Aa2, Aa3, A1, A2, A3, Baa1]]></comment>
			</column>
			<column name="MOODYS_RATING_SHORT_TERM" type="varchar" length="10" jt="12" >
				<comment><![CDATA[Moody's credit rating for long term debt (< 1 year), e.g. P-1, P-2, P-3, NP]]></comment>
			</column>
			<column name="FITCH_RATING_LONG_TERM" type="varchar" length="10" jt="12" >
				<comment><![CDATA[Fitch credit rating for long term debt (> 1 year) e.g. AAA, AA, A, BBB, BB, B, CCC]]></comment>
			</column>
			<column name="FITCH_RATING_SHORT_TERM" type="varchar" length="10" jt="12" >
				<comment><![CDATA[Fitch credit rating for short term debt (< 1 year) e.g. F1, F2, F3, B, C, D, RD, D]]></comment>
			</column>
			<column name="MATURITY_DATE" type="date" jt="91" >
				<comment><![CDATA[When the principal of a security is become payable]]></comment>
			</column>
			<column name="VALID_FROM" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="VALID_TO" type="timestamp_ntz" length="9" jt="93" >
				<comment><![CDATA[For slowly changing dimension type 2 (date range when the row is valid)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" >
				<comment><![CDATA[For slowly changing dimension type 2: 1 if the row the the latest row for this security, 0 otherwise]]></comment>
			</column>
			<index name="PK_SECURITY" unique="PRIMARY_KEY" >
				<column name="SECURITY_KEY" />
			</index>
			<fk name="FK_DIM_SECURITY_DIM_ISSUER" to_schema="CUTTER_DW.DW" to_table="DIM_ISSUER" options="" >
				<fk_column name="ISSUER_KEY" pk="ISSUER_KEY" />
			</fk>
		</table>
		<table name="FACT_BENCHMARK_CONSTITUENT" row_count="3590" spec=" or replace" >
			<comment><![CDATA[Contains the securities within a benchmark/index, every day.
Grain: date, benchmark, security (for each datetime_inserted).
Fact table type: periodic snapshot]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When this benchmark weight was defined. Integer representation in YYYYMMDD e.g. 20230929 (foreign key to the date dimension)]]></comment>
			</column>
			<column name="BENCHMARK_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The benchmark containing the constituents (foreign key to the date dimension)]]></comment>
			</column>
			<column name="SECURITY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The instrument/security held for this benchmark constituent (foreign key to the security dimension)]]></comment>
			</column>
			<column name="WEIGHT" type="number" length="15" decimal="10" jt="3" mandatory="y" >
				<comment><![CDATA[The weight of this constituent in this benchmark for this date]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_BENCHMARK_CONSTITUENT" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
				<column name="BENCHMARK_KEY" />
				<column name="SECURITY_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_BENCHMARK_CONSTITUENTS_DIM_BENCHMARK" to_schema="CUTTER_DW.DW" to_table="DIM_BENCHMARK" options="" >
				<fk_column name="BENCHMARK_KEY" pk="BENCHMARK_KEY" />
			</fk>
		</table>
		<table name="FACT_CLIENT_ACCOUNT_RELATIONSHIP" row_count="0" spec=" or replace" >
			<comment><![CDATA[Contains the relationship between accounts, clients, a products and portfolios. A client can have multiple accounts. An account can belong to multiple clients (Ref: CAPE Data POV Deck 4x3 slide 19). A client can have no account, no product, no portfolio (i.e. still a prospect).
Grain: client, account, portfolio, product (for each datetime_inserted).
Fact table type: transaction fact table.]]></comment>
			<column name="CLIENT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the client dimension]]></comment>
			</column>
			<column name="ACCOUNT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the account dimension (optional, 0 if this client does not have an account)]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the portfolio dimension (optional, 0 if this account does not have a portfolio)]]></comment>
			</column>
			<column name="PRODUCT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the product dimension (optional, 0 if this account does not have a product)]]></comment>
			</column>
			<column name="DESCRIPTION" type="varchar" length="100" jt="12" >
				<comment><![CDATA[Description or note/comment about the relationship between the client, account and portfolio/product]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_PORTFOLIO_ACCOUNT_CLIENT_RELATIONSHIP_ACCOUNT_KEY" unique="PRIMARY_KEY" >
				<column name="ACCOUNT_KEY" />
				<column name="CLIENT_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="PRODUCT_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_ACCOUNT" to_schema="CUTTER_DW.DW" to_table="DIM_ACCOUNT" options="" >
				<fk_column name="ACCOUNT_KEY" pk="ACCOUNT_KEY" />
			</fk>
			<fk name="FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_CLIENT" to_schema="CUTTER_DW.DW" to_table="DIM_CLIENT" options="" >
				<fk_column name="CLIENT_KEY" pk="CLIENT_KEY" />
			</fk>
			<fk name="FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
			<fk name="FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_PRODUCT" to_schema="CUTTER_DW.DW" to_table="DIM_PRODUCT" options="" >
				<fk_column name="PRODUCT_KEY" pk="PRODUCT_KEY" />
			</fk>
		</table>
		<table name="FACT_HOLDING" row_count="306" spec=" or replace" >
			<comment><![CDATA[Contains all the positions held in each portfolio, every day.
Grain: date, portfolio, security (for each datetime_inserted)
Fact table type: periodic snapshot]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When this holding was valued (the date of the market price). Integer representation in YYYYMMDD e.g. 20230929 (foreign key to the date dimension)]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The portfolio containing this holding (foreign key to the portfolio dimension)]]></comment>
			</column>
			<column name="SECURITY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The instrument/security held for this holding(foreign key to the security dimension)]]></comment>
			</column>
			<column name="QUANTITY" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Not the quantity on individual purchase, but the total quantity we are currently holding i.e. over many purchases and sales.]]></comment>
			</column>
			<column name="PRICE_BASE_CCY" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Not the price on individual purchase/sale, but total market value divided by the total quantity so it's like the average price paid over all transactions that makes up the current holding.]]></comment>
			</column>
			<column name="PRICE_LOCAL_CCY" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Not the price on individual purchase/sale, but total market value divided by the total quantity so it's like the average price paid over all transactions that makes up the current holding.]]></comment>
			</column>
			<column name="MARKET_VALUE_BASE_CCY" type="number" length="20" decimal="6" jt="3" mandatory="y" >
				<comment><![CDATA[The market value of this holding in the portfolio base currency.]]></comment>
			</column>
			<column name="MARKET_VALUE_LOCAL_CCY" type="number" length="20" decimal="6" jt="3" mandatory="y" >
				<comment><![CDATA[The market value of this holding in the local currency of the security exchange.]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_HOLDING" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="SECURITY_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_HOLDING_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
			<fk name="FK_FACT_HOLDING_DIM_SECURITY" to_schema="CUTTER_DW.DW" to_table="DIM_SECURITY" options="" >
				<fk_column name="SECURITY_KEY" pk="SECURITY_KEY" />
			</fk>
			<fk name="FK_FACT_HOLDING_DIM_DATE" to_schema="CUTTER_DW.DW" to_table="DIM_DATE" options="" >
				<fk_column name="DATE_KEY" pk="DATE_KEY" />
			</fk>
		</table>
		<table name="FACT_PERFORMANCE_ATTRIBUTION" row_count="37" spec=" or replace" >
			<comment><![CDATA[Contains allocation of the portfolio performance return to each country, currency or sector, from a performance attribution system such as StatPro/Point/Barra output or files from the back office providers such as NT or State Street.
Grain: 1 row for each date, portfolio, attribution method and entity (for each datetime_inserted).
Fact table type: periodic snapshot.]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When this performance attribution data is for (foreign key to the date dimension)]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The portfolio which this performance attribution data is for (foreign key to the portfolio dimension)]]></comment>
			</column>
			<column name="PERFORMANCE_RETURN_PERIOD_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the performance return period dimension, which contains the performance return periods such as 1M, 3M, 6M, 1Y, 3Y, etc.]]></comment>
			</column>
			<column name="ATTRIBUTION_METHOD_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Describes the methodology used in calculating the performance attribution, i.e. by what factor the performance return is allocated e.g. by country, currency, or sector including any exception such as exclude Japan (foreign key to the attribution method dimension)]]></comment>
			</column>
			<column name="ATTRIBUTION_FACTOR_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Contains the country_key, or sector_key, or currency_key (or custom factor)]]></comment>
			</column>
			<column name="PORTFOLIO_WEIGHT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[The weight of this country/currency/sector in the portfolio]]></comment>
			</column>
			<column name="PORTFOLIO_CONTRIBUTION" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much this country/currency/sector contributes to the portfolio performance return]]></comment>
			</column>
			<column name="BENCHMARK_WEIGHT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[The weight of this country/currency/sector in the benchmark]]></comment>
			</column>
			<column name="BENCHMARK_CONTRIBUTION" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much this country/currency/sector contributes to benchmark performance return]]></comment>
			</column>
			<column name="DURATION_EFFECT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much the duration contributes to the portfolio performance return]]></comment>
			</column>
			<column name="YIELD_CURVE_EFFECT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much the yield curve contributes to the portfolio performance return]]></comment>
			</column>
			<column name="ALLOCATION_EFFECT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much the country/currency/sector allocation contributes to the portfolio performance return]]></comment>
			</column>
			<column name="SELECTION_EFFECT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much the security selection contributes to the portfolio performance return]]></comment>
			</column>
			<column name="FX_EFFECT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[How much the FX rates fluctuation (aka \"carry\") contributes to the portfolio performance return]]></comment>
			</column>
			<column name="TOTAL_EFFECT" type="number" length="15" decimal="10" jt="3" >
				<comment><![CDATA[Total contribution from all factors including the \"interaction factor\" (interactions between different factors)]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_PERFORMANCE_ATTRIBUTION_DATE_KEY" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="PERFORMANCE_RETURN_PERIOD_KEY" />
				<column name="ATTRIBUTION_METHOD_KEY" />
				<column name="ATTRIBUTION_FACTOR_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_COUNTRY" to_schema="CUTTER_DW.DW" to_table="DIM_COUNTRY" options="" >
				<fk_column name="ATTRIBUTION_FACTOR_KEY" pk="COUNTRY_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_DATE" to_schema="CUTTER_DW.DW" to_table="DIM_DATE" options="" >
				<fk_column name="DATE_KEY" pk="DATE_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_CURRENCY" to_schema="CUTTER_DW.DW" to_table="DIM_CURRENCY" options="" >
				<fk_column name="ATTRIBUTION_FACTOR_KEY" pk="CURRENCY_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_SECTOR" to_schema="CUTTER_DW.DW" to_table="DIM_SECTOR" options="" >
				<fk_column name="ATTRIBUTION_FACTOR_KEY" pk="SECTOR_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_ATTRIBUTION_METHOD" to_schema="CUTTER_DW.DW" to_table="DIM_ATTRIBUTION_METHOD" options="" >
				<fk_column name="ATTRIBUTION_METHOD_KEY" pk="ATTRIBUTION_METHOD_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_PERFORMANCE_RETURN_PERIOD" to_schema="CUTTER_DW.DW" to_table="DIM_PERFORMANCE_RETURN_PERIOD" options="" >
				<fk_column name="PERFORMANCE_RETURN_PERIOD_KEY" pk="PERFORMANCE_RETURN_PERIOD_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_ATTRIBUTION_FACTOR" to_schema="CUTTER_DW.DW" to_table="DIM_CUSTOM_ATTRIBUTION_FACTOR" options="" >
				<fk_column name="ATTRIBUTION_FACTOR_KEY" pk="ATTRIBUTION_FACTOR_KEY" />
			</fk>
		</table>
		<table name="FACT_PERFORMANCE_RETURN" row_count="180" spec=" or replace" >
			<comment><![CDATA[Contains the portfolio level performance return data, for all periods and flavours.
Grain: 1 row per portfolio, reporting date, performance type, performance entity type.
Fact table type: periodic snapshot.]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The as of date key when these performance return data is valid for]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The portfolio for which these performance data is for (the foreign key to the portfolio dimension)]]></comment>
			</column>
			<column name="PERFORMANCE_RETURN_TYPE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The type or \"flavour\" of the top level performance return i.e. gross or net, cumulative or annualized, arithmetic or geometric, etc. (foreign key to the performance type dimension)]]></comment>
			</column>
			<column name="PERFORMANCE_ENTITY_TYPE" type="varchar" length="30" jt="12" mandatory="y" >
				<comment><![CDATA[Indicates whether this row contains the portfolio return or the benchmark return (value: P or B). Or R for relative return (difference between portfolio and benchmark)]]></comment>
			</column>
			<column name="RETURN_1M" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[1 month performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_3M" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[3 months performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_6M" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[6 months performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_YTD" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[Year to date performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_1Y" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[1 year performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_3Y" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[3 years performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_5Y" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[5 years performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_10Y" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[10 years performance return of the portfolio or benchmark]]></comment>
			</column>
			<column name="RETURN_SI" type="number" length="20" decimal="10" jt="3" >
				<comment><![CDATA[Performance return of the portfolio since inception (not applicable for benchmark)]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_PERFORMANCE_RETURN_DATE_KEY" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="PERFORMANCE_RETURN_TYPE_KEY" />
				<column name="PERFORMANCE_ENTITY_TYPE" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_PERFORMANCE_RETURN_DIM_DATE" to_schema="CUTTER_DW.DW" to_table="DIM_DATE" options="" >
				<fk_column name="DATE_KEY" pk="DATE_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_RETURN_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
			<fk name="FK_FACT_PERFORMANCE_RETURN_DIM_PERFORMANCE_RETURN_TYPE" to_schema="CUTTER_DW.DW" to_table="DIM_PERFORMANCE_RETURN_TYPE" options="" >
				<fk_column name="PERFORMANCE_RETURN_TYPE_KEY" pk="PERFORMANCE_RETURN_TYPE_KEY" />
			</fk>
		</table>
		<table name="FACT_PORTFOLIO_ANALYTIC" row_count="30" spec=" or replace" >
			<comment><![CDATA[Contains fixed income, equity and risk analytics at portfolio level (daily), e.g. P/E, P/B, Yield, Market Cap, Weighted Average Maturity/Duration/Yield/DTS/Rating, Sharpe Ratio, TE, SD, Alpha, Beta, #holdings, #issuers.
Grain: 1 row for each date and portfolio (for each datetime_inserted)
Fact table type: periodic snapshot.]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The date when these portfolio-level analytics are calculated (foreign key to the date dimension)]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The portfolio for which these analytics are calculated for (foreign key to the portfolio dimension)]]></comment>
			</column>
			<column name="NUMBER_OF_HOLDINGS" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[Number of holdings in the portfolio for that date, including cash equivalent positions and derivatives]]></comment>
			</column>
			<column name="NUMBER_OF_ISSUERS" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[Number of distinct issuers in the portfolio for that date]]></comment>
			</column>
			<column name="MARKET_CAP" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted avarage of the holding's market capitalization]]></comment>
			</column>
			<column name="PRICE_TO_EARNING_RATIO_TTM" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[The weighted average of the Price-to-Earning Ratio of all the holdings in the portfolio (Trailing 12 months)]]></comment>
			</column>
			<column name="PRICE_TO_BOOK_RATIO_TTM" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average of the Price-to-book ratio of all the holdings in this portfolio (trailing 12 months)]]></comment>
			</column>
			<column name="WEIGHTED_AVERAGE_COUPON" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average of the coupon value (for fixed income portfolio) of all the fixed income holdings in the portfolio]]></comment>
			</column>
			<column name="WEIGHTED_AVERAGE_CREDIT_QUALITY" type="varchar" length="20" jt="12" >
				<comment><![CDATA[The weighted average of credit rating, e.g. AA (convert to numeric, take the weighted average based on MV, then convert back to letters). Which rating (S&P, Moody's, Fitch) is to be defined.]]></comment>
			</column>
			<column name="CURRENT_YIELD" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average of the current yield of all the fixed income holdings in the portfolio]]></comment>
			</column>
			<column name="SPREAD_DURATION" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average of the spread duration for all the fixed income holdings in the portfolio]]></comment>
			</column>
			<column name="EFFECTIVE_MATURITY" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average (by market value) of the effective maturity for all the fixed income holdings in the portfolio (in years)]]></comment>
			</column>
			<column name="MODIFIED_DURATION" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average (by market value) of the spread duration for all the fixed income holdings in the portfolio (in years)]]></comment>
			</column>
			<column name="DURATION_TIMES_SPREAD" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Weighted average of the Duration Times Spread (DTS) for all the fixed income holdings in the portfolio]]></comment>
			</column>
			<column name="STANDARD_DEVIATION_1Y" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[variability of returns for the last 1 year]]></comment>
			</column>
			<column name="SHARPE_RATIO_1Y" type="number" length="20" decimal="2" jt="3" >
				<comment><![CDATA[1 year portfolio return minus risk free rate, divided by the standard deviation]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_PORTFOLIO_ANALYTIC_DATE_KEY" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_PORTFOLIO_ANALYTIC_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
		</table>
		<table name="FACT_PORTFOLIO_VALUATION" row_count="0" spec=" or replace" >
			<comment><![CDATA[Contains the portfolio's Net Asset Value (daily)
Grain: 1 row for each date and portfolio (for each datetime_inserted).
Fact table type: periodic snapshot.]]></comment>
			<column name="DATE_TIME" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When the NAV is calculated for this portfolio (foreign key to the date dimension)]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The portfolio for which this NAV is for (foreign key to the portfolio dimension)]]></comment>
			</column>
			<column name="NAV" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Net Asset Value of the portfolio, for that date]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_PORTFOLIO_VALUATION_DATE_TIME" unique="PRIMARY_KEY" >
				<column name="DATE_TIME" />
				<column name="PORTFOLIO_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_PORTFOLIO_VALUATION_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
		</table>
		<table name="FACT_PRODUCT_PORTFOLIO_RELATIONSHIP" row_count="0" spec=" or replace" >
			<comment><![CDATA[A factless fact table linking the portfolio dimension and the product dimension.
A product can be linked to one or more portfolios. A portfolio can only be linked to one product.
Grain: 1 row for each product-portfolio combination (for each datetime_inserted).
Fact table type: transaction fact table]]></comment>
			<column name="PRODUCT_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the product dimension]]></comment>
			</column>
			<column name="PORTFOLIO_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[Foreign key to the portfolio dimension]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_PRODUCT_DEFINITI_PRODUCT_KEY" unique="PRIMARY_KEY" >
				<column name="PRODUCT_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_PRODUCT_PORTFOLIO_RELATIONSHIP_DIM_PRODUCT" to_schema="CUTTER_DW.DW" to_table="DIM_PRODUCT" options="" >
				<fk_column name="PRODUCT_KEY" pk="PRODUCT_KEY" />
			</fk>
			<fk name="FK_FACT_PRODUCT_PORTFOLIO_RELATIONSHIP_DIM_PORTFOLIO" to_schema="CUTTER_DW.DW" to_table="DIM_PORTFOLIO" options="" >
				<fk_column name="PORTFOLIO_KEY" pk="PORTFOLIO_KEY" />
			</fk>
		</table>
		<table name="FACT_SECURITY_ANALYTIC" row_count="120" spec=" or replace" >
			<comment><![CDATA[Contains fixed income analytics like yield, duration, spread, credit ratings, coupon, WAL, maturity bucket, IE01, PV01, CR01, etc. at security level. In the future \"equity analytics\" such as market cap and number of outstanding shares can be added. Hence the name is fact_security_analytics, not fact_fixed_income_analytics.
Grain: 1 row for each date and security (for each datetime_inserted)
Fact table type: periodic snapshot.]]></comment>
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When this security analytic was calculated. Integer representation in YYYYMMDD e.g. 20230929 (foreign key to the date dimension)]]></comment>
			</column>
			<column name="SECURITY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[the security/instrument for which these fixed income analytics are for (on that date)]]></comment>
			</column>
			<column name="YIELD_TO_MATURITY" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[The return earned by a bond when it makes all interest payments and repays the original principal]]></comment>
			</column>
			<column name="YIELD_TO_WORST" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[The lowest possible yield that can be received on a bond that fully operates within the terms of its contract without defaulting. It's to reflect the risk that the issuer can close the bond before maturity.]]></comment>
			</column>
			<column name="MODIFIED_DURATION" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Price sensitivity to changes in interest rates]]></comment>
			</column>
			<column name="SPREAD_DURATION" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Price sensitivity to credit spread changes (credit spread is the difference between the yield of a security and the yield of a government bond)]]></comment>
			</column>
			<column name="OPTION_ADJUSTED_DURATION" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Price sensitivity to changes in interest rates, for bonds that have embedded options. Also known as Effective Duration.]]></comment>
			</column>
			<column name="SPREAD" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Difference between the yield of a bond and the yield of the treasury (the risk-free rate)]]></comment>
			</column>
			<column name="DURATION_TIMES_SPREAD" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[The spread duration x the credit spread. It measures the credit volatility of a corporate bond.]]></comment>
			</column>
			<column name="COUPON" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Interest payment on a bond or fixed income securities]]></comment>
			</column>
			<column name="WEIGHTED_AVERAGE_LIFE" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Average length of time that each dollar of unpaid principal on an amortizing bond remains outstanding]]></comment>
			</column>
			<column name="MATURITY_BUCKET" type="varchar" length="20" jt="12" >
				<comment><![CDATA[Time range (in years) when the bond will mature, i.e. 1-3 years, 3-5 years, etc.]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_SECURITY_ANALYTICS" unique="PRIMARY_KEY" >
				<column name="DATE_KEY" />
				<column name="SECURITY_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
		</table>
		<table name="FACT_TRANSACTION" row_count="0" spec=" or replace" >
			<comment><![CDATA[Contains the purchase and sale activity within the portfolio, as well as cash transaction such as dividend distribution.
Grain: 1 row for each transaction (purchase, sale or cash) and datetime_inserted.
Fact table type: transaction fact table]]></comment>
			<column name="TRANSACTION_KEY" type="varchar" length="50" jt="12" mandatory="y" >
				<comment><![CDATA[Unique identifier of a trade/transaction from ThinkFolio/CRD/BBG AIM.]]></comment>
			</column>
			<column name="TRADE_DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When the purchase, sale or dividend happens (foreign key to the date dimension)]]></comment>
			</column>
			<column name="SETTLEMENT_DATE_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[When the the payment is made and the asset/security is delivered (foreign key to the date dimension)]]></comment>
			</column>
			<column name="SECURITY_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The security being purchased or sold (foreign key to the security dimension)]]></comment>
			</column>
			<column name="BROKER_KEY" type="integer" length="38" decimal="0" jt="4" mandatory="y" >
				<comment><![CDATA[The executing broker who filled the trade (and the one who settled the payment). Foreign key to the broker dimension.]]></comment>
			</column>
			<column name="TRANSACTION_TYPE" type="integer" length="38" decimal="0" jt="4" >
				<comment><![CDATA[Purchase or sale (value: P or S). Or cash (C) if it's a cash transaction such as dividend distribution.]]></comment>
			</column>
			<column name="QUANTITY" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Number of shares purchased/sold (or unit of funds, bonds, etc.)]]></comment>
			</column>
			<column name="PRICE" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[Price of the security purchased or sold (not applicable for dividend or cash transactions)]]></comment>
			</column>
			<column name="AMOUNT" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[The transaction amount (qty x price for a purchase or sale). For cash transaction such as dividend it's the dividend amount.]]></comment>
			</column>
			<column name="COMMISSION" type="number" length="20" decimal="6" jt="3" >
				<comment><![CDATA[The commision amount that we paid to the broker for this transaction]]></comment>
			</column>
			<column name="DATETIME_INSERTED" type="timestamp_ntz" length="9" jt="93" mandatory="y" >
				<comment><![CDATA[When this fact row was created (system column)]]></comment>
			</column>
			<column name="LATEST_FLAG" type="boolean" jt="16" mandatory="y" >
				<comment><![CDATA[The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.]]></comment>
			</column>
			<index name="PK_FACT_TRANSACTION" unique="PRIMARY_KEY" >
				<column name="TRANSACTION_KEY" />
				<column name="TRADE_DATE_KEY" />
				<column name="SETTLEMENT_DATE_KEY" />
				<column name="SECURITY_KEY" />
				<column name="BROKER_KEY" />
				<column name="DATETIME_INSERTED" />
			</index>
			<fk name="FK_FACT_TRANSACTION_DIM_BROKER" to_schema="CUTTER_DW.DW" to_table="DIM_BROKER" options="" >
				<fk_column name="BROKER_KEY" pk="BROKER_KEY" />
			</fk>
		</table>
		<table name="MY_FIRST_DBT_MODEL" row_count="2" spec=" or replace TRANSIENT" >
			<column name="ID" type="number" length="1" decimal="0" jt="3" />
		</table>
		<table name="WIDE_HOLDINGS" row_count="662" spec=" or replace" >
			<column name="DATE_KEY" type="integer" length="38" decimal="0" jt="4" />
			<column name="PORTFOLIO_CODE" type="varchar" length="50" jt="12" />
			<column name="PORTFOLIO_LEGAL_NAME" type="varchar" length="200" jt="12" />
			<column name="SECURITY_NAME" type="varchar" length="100" jt="12" />
			<column name="SECURITY_TYPE" type="varchar" length="50" jt="12" />
			<column name="LOOKTHROUGH_PORTFOLIO_CODE" type="varchar" length="50" jt="12" />
			<column name="TICKER" type="varchar" length="20" jt="12" />
			<column name="ISIN" type="varchar" length="20" jt="12" />
			<column name="CURRENCY_CODE" type="varchar" length="5" jt="12" />
			<column name="COUNTRY_OF_DOMICILE" type="varchar" length="5" jt="12" />
			<column name="GICS_SECTOR_LEVEL1" type="varchar" length="100" jt="12" />
			<column name="GICS_SECTOR_LEVEL2" type="varchar" length="100" jt="12" />
			<column name="GICS_SECTOR_LEVEL3" type="varchar" length="100" jt="12" />
			<column name="GICS_SECTOR_LEVEL4" type="varchar" length="100" jt="12" />
			<column name="ASSET_CLASS_LEVEL1" type="varchar" length="50" jt="12" />
			<column name="ASSET_CLASS_LEVEL2" type="varchar" length="50" jt="12" />
			<column name="ASSET_CLASS_LEVEL3" type="varchar" length="50" jt="12" />
			<column name="ISSUER_ID" type="varchar" length="20" jt="12" />
			<column name="ISSUER_NAME" type="varchar" length="100" jt="12" />
			<column name="COUNTRY_NAME" type="varchar" length="100" jt="12" />
			<column name="REGION" type="varchar" length="50" jt="12" />
			<column name="QUANTITY" type="number" length="38" decimal="12" jt="3" />
			<column name="PRICE" type="number" length="20" decimal="6" jt="3" />
			<column name="MARKET_VALUE" type="number" length="38" decimal="12" jt="3" />
			<column name="PORTFOLIO_VALUE" type="number" length="32" decimal="6" jt="3" />
			<column name="PORTFOLIO_WEIGHT" type="number" length="38" decimal="12" jt="3" />
			<column name="LOOKTHROUGH" type="varchar" length="1" jt="12" />
			<column name="LOOKTHROUGH_PORTFOLIO" type="varchar" length="50" jt="12" />
		</table>
		<view name="BENCHMARK_CONSTITUENTS" >
			<view_script><![CDATA[create or replace view ${view}(  DATE_KEY,  BENCHMARK_CODE,  BENCHMARK_NAME,  SECURITY_NAME,  TICKER,  ISIN,  CURRENCY_CODE,  COUNTRY_OF_DOMICILE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  WEIGHT,  ISSUER_KEY,  ISSUER_NAME,  ISSUER_ID) as select    F.DATE_KEY,   DB.benchmark_code, DB.benchmark_name,    DS.security_name, DS.Ticker, DS.ISIN, DS.currency_code, DS. country_of_domicile,    DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,    F.Weight, DI.ISSUER_KEY, DI.ISSUER_NAME, DI.ISSUER_ID from Fact_Benchmark_Constituent F left join Dim_Benchmark DB on F.benchmark_key = DB.benchmark_key left join Dim_Portfolio DP on DB.benchmark_code = DP.benchmark_code left join Dim_Security DS on F.security_key = DS.security_key left join DIM_ISSUER DI on DS.ISSUER_KEY = DI.ISSUER_KEYorder by benchmark_code, security_name]]></view_script>
			<column name="DATE_KEY" type="number" />
			<column name="BENCHMARK_CODE" type="text" />
			<column name="BENCHMARK_NAME" type="text" />
			<column name="SECURITY_NAME" type="text" />
			<column name="TICKER" type="text" />
			<column name="ISIN" type="text" />
			<column name="CURRENCY_CODE" type="text" />
			<column name="COUNTRY_OF_DOMICILE" type="text" />
			<column name="GICS_SECTOR_LEVEL1" type="text" />
			<column name="GICS_SECTOR_LEVEL2" type="text" />
			<column name="GICS_SECTOR_LEVEL3" type="text" />
			<column name="GICS_SECTOR_LEVEL4" type="text" />
			<column name="WEIGHT" type="number" />
			<column name="ISSUER_KEY" type="number" />
			<column name="ISSUER_NAME" type="text" />
			<column name="ISSUER_ID" type="text" />
		</view>
		<view name="EXPOSURE_BY_COUNTRY" >
			<view_script><![CDATA[create or replace view ${view}(  COUNTRY_CODE,  COUNTRY_NAME,  PORTFOLIO_WEIGHT,  BENCHMARK_WEIGHT) aswith AUM as ( select sum(FH.market_value_base_ccy) as AUM   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key), Portfolio_Weight as ( select DC.country_code, DC.country_name, sum(FH.market_value_base_ccy AUM.AUM*100) as Portfolio_Weight   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key   join Dim_Security DS on FH.security_key = DS.security_key   left join Dim_Country DC on DS.country_of_domicile = DC.country_code   cross join AUM   group by DC.country_code, DC.country_name), Benchmark_Weight as ( select DC.country_code, DC.country_name, sum(F.Weight) as Benchmark_Weight   from Fact_Benchmark_Constituent F   join Dim_Benchmark DB on F.benchmark_key = DB.benchmark_key   join Dim_Portfolio DP on DB.benchmark_code = DP.benchmark_code   join Dim_Security DS on F.security_key = DS.security_key   left join Dim_Country DC on DS.country_of_domicile = DC.country_code   group by DC.country_code, DC.country_name) select BW.country_code, BW.country_name, PW.portfolio_weight, BW.benchmark_weight from Benchmark_Weight BW left join Portfolio_Weight PW on BW.country_code = PW.country_code order by country_code]]></view_script>
			<column name="COUNTRY_CODE" type="text" />
			<column name="COUNTRY_NAME" type="text" />
			<column name="PORTFOLIO_WEIGHT" type="number" />
			<column name="BENCHMARK_WEIGHT" type="number" />
		</view>
		<view name="EXPOSURE_BY_SECTOR" >
			<view_script><![CDATA[create or replace view ${view}(  SECTOR,  PORTFOLIO_WEIGHT,  BENCHMARK_WEIGHT) as with AUM as ( select sum(FH.market_value_base_ccy) as AUM   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key), Portfolio_Weight as ( select DS.GICS_Sector_Level1 as Sector, sum(FH.market_value_base_ccy AUM.AUM*100) as Portfolio_Weight   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key   join Dim_Security DS on FH.security_key = DS.security_key   cross join AUM   group by DS.GICS_Sector_Level1), Benchmark_Weight as ( select DS.GICS_Sector_Level1 as Sector, sum(F.Weight) as Benchmark_Weight   from Fact_Benchmark_Constituent F   join Dim_Benchmark DB on F.benchmark_key = DB.benchmark_key   join Dim_Portfolio DP on DB.benchmark_code = DP.benchmark_code   join Dim_Security DS on F.security_key = DS.security_key   group by DS.GICS_Sector_Level1) select BW.Sector, PW.Portfolio_Weight, BW.Benchmark_Weight from Benchmark_Weight BW left join Portfolio_Weight PW on BW.Sector = PW.Sector order by BW.Sector]]></view_script>
			<column name="SECTOR" type="text" />
			<column name="PORTFOLIO_WEIGHT" type="number" />
			<column name="BENCHMARK_WEIGHT" type="number" />
		</view>
		<view name="FUND_LOOKTHROUGH" >
			<view_script><![CDATA[create or replace view ${view}(  DATE_KEY,  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  SECURITY_NAME,  TICKER,  ISIN,  CURRENCY_CODE,  COUNTRY_OF_DOMICILE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  ASSET_CLASS_LEVEL1,  ASSET_CLASS_LEVEL2,  ASSET_CLASS_LEVEL3,  ISSUER_ID,  ISSUER_NAME,  QUANTITY,  PRICE,  MARKET_VALUE,  PORTFOLIO_VALUE,  LOOKTHROUGH,  LOOKTHROUGH_PORTFOLIO) as with Held_Securities as  ( select FH.date_key, DP.portfolio_code, DP.portfolio_legal_name,      DS.security_name, DS.security_type, DS.portfolio_code as lookthrough_portfolio_code,     DS.ticker, DS.ISIN, DS.currency_code, DS.country_of_domicile,     DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,     DS.ASSET_CLASS_LEVEL1, DS.ASSET_CLASS_LEVEL2, DS.ASSET_CLASS_LEVEL3,         DI.ISSUER_ID, DI.ISSUER_NAME,     FH.Quantity, FH.price_base_ccy as Price,      FH.market_value_base_ccy as Market_Value,     CALC.total_mk_value as portfolio_value,     'N' as lookthrough,      '' as LOOKTHROUGH_PORTFOLIO   from FACT_HOLDING FH   join DIM_PORTFOLIO DP on FH.portfolio_key = DP.portfolio_key   join DIM_SECURITY DS on FH.security_key = DS.security_key   join DIM_ISSUER DI on DS.issuer_key = DI.issuer_key   join (select date_key, portfolio_code, sum(MARKET_VALUE) as total_mk_value           from holdings_view         group by date_key, portfolio_code) AS CALC     ON  FH.DATE_KEY = CALC.date_key     AND  DP.portfolio_code = CALC.portfolio_code), Held_ETF as ( select lookthrough_portfolio_code, Quantity, Price, Market_Value   from Held_Securities    where security_type = 'Portfolio'), ETF_AUM as ( select sum(FH.market_value_base_ccy) as AUM   from FACT_HOLDING FH   join DIM_PORTFOLIO DP on FH.portfolio_key = DP.portfolio_key   join Held_ETF HE on DP.portfolio_code = HE.lookthrough_portfolio_code), ETF_Constituents as ( select FH.date_key, DP.portfolio_code, DP.portfolio_legal_name, DS.security_name,      DS.ticker, DS.ISIN, DS.currency_code, DS.country_of_domicile,     DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,     DS.ASSET_CLASS_LEVEL1, DS.ASSET_CLASS_LEVEL2, DS.ASSET_CLASS_LEVEL3,     DI.ISSUER_ID, DI.ISSUER_NAME,     (FH.market_value_base_ccy ETF_AUM.AUM * HE.Market_Value)   FH.price_base_ccy as Quantity,     FH.price_base_ccy as Price,        FH.market_value_base_ccy ETF_AUM.AUM * HE.Market_Value as Market_Value,      CALC.total_mk_value as portfolio_value,     'Y' as lookthrough,     DP.portfolio_code as LOOKTHROUGH_PORTFOLIO   from FACT_HOLDING FH   join DIM_PORTFOLIO DP on FH.portfolio_key = DP.portfolio_key   join DIM_SECURITY DS on FH.security_key = DS.security_key   join DIM_ISSUER DI on DS.issuer_key = DI.issuer_key     join Held_ETF HE on DP.portfolio_code = HE.lookthrough_portfolio_code   join (select date_key, portfolio_code, sum(MARKET_VALUE) as total_mk_value           from holdings_view         group by date_key, portfolio_code) AS CALC     ON  FH.DATE_KEY = CALC.date_key     AND  DP.portfolio_code = CALC.portfolio_code    cross join ETF_AUM) select date_key,portfolio_code, portfolio_legal_name, security_name,    ticker, ISIN, currency_code, country_of_domicile,   gics_sector_level1, gics_sector_level2, gics_sector_level3, gics_sector_level4,   ASSET_CLASS_LEVEL1, ASSET_CLASS_LEVEL2, ASSET_CLASS_LEVEL3,   ISSUER_ID, ISSUER_NAME,   Quantity, Price, Market_Value,    portfolio_value,   lookthrough, lookthrough_portfolio from Held_Securities where security_type = 'Security' union select * from ETF_Constituents order by portfolio_code desc]]></view_script>
			<column name="DATE_KEY" type="number" />
			<column name="PORTFOLIO_CODE" type="text" />
			<column name="PORTFOLIO_LEGAL_NAME" type="text" />
			<column name="SECURITY_NAME" type="text" />
			<column name="TICKER" type="text" />
			<column name="ISIN" type="text" />
			<column name="CURRENCY_CODE" type="text" />
			<column name="COUNTRY_OF_DOMICILE" type="text" />
			<column name="GICS_SECTOR_LEVEL1" type="text" />
			<column name="GICS_SECTOR_LEVEL2" type="text" />
			<column name="GICS_SECTOR_LEVEL3" type="text" />
			<column name="GICS_SECTOR_LEVEL4" type="text" />
			<column name="ASSET_CLASS_LEVEL1" type="text" />
			<column name="ASSET_CLASS_LEVEL2" type="text" />
			<column name="ASSET_CLASS_LEVEL3" type="text" />
			<column name="ISSUER_ID" type="text" />
			<column name="ISSUER_NAME" type="text" />
			<column name="QUANTITY" type="number" />
			<column name="PRICE" type="number" />
			<column name="MARKET_VALUE" type="number" />
			<column name="PORTFOLIO_VALUE" type="number" />
			<column name="LOOKTHROUGH" type="text" />
			<column name="LOOKTHROUGH_PORTFOLIO" type="text" />
		</view>
		<view name="HOLDINGS_VIEW" >
			<view_script><![CDATA[create or replace view ${view}(  DATE_KEY,  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  SECURITY_NAME,  SECURITY_TYPE,  TICKER,  ISIN,  CURRENCY_CODE,  COUNTRY_OF_DOMICILE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  ASSET_CLASS_LEVEL1,  ASSET_CLASS_LEVEL2,  ASSET_CLASS_LEVEL3,  QUANTITY,  PRICE,  MARKET_VALUE) as select      FH.date_key,     DP.Portfolio_Code, DP.Portfolio_Legal_Name,      DS.security_name, DS.SECURITY_TYPE, DS.Ticker, DS.ISIN, DS.currency_code, DS. country_of_domicile,      DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,     DS.ASSET_CLASS_LEVEL1, DS.ASSET_CLASS_LEVEL2, DS.ASSET_CLASS_LEVEL3,     FH.Quantity, FH.price_base_ccy as Price, FH.market_value_base_ccy as Market_Value from Fact_Holding FH join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key join Dim_Security DS on FH.security_key = DS.security_key order by DP.portfolio_code desc, DS.security_name]]></view_script>
			<column name="DATE_KEY" type="number" />
			<column name="PORTFOLIO_CODE" type="text" />
			<column name="PORTFOLIO_LEGAL_NAME" type="text" />
			<column name="SECURITY_NAME" type="text" />
			<column name="SECURITY_TYPE" type="text" />
			<column name="TICKER" type="text" />
			<column name="ISIN" type="text" />
			<column name="CURRENCY_CODE" type="text" />
			<column name="COUNTRY_OF_DOMICILE" type="text" />
			<column name="GICS_SECTOR_LEVEL1" type="text" />
			<column name="GICS_SECTOR_LEVEL2" type="text" />
			<column name="GICS_SECTOR_LEVEL3" type="text" />
			<column name="GICS_SECTOR_LEVEL4" type="text" />
			<column name="ASSET_CLASS_LEVEL1" type="text" />
			<column name="ASSET_CLASS_LEVEL2" type="text" />
			<column name="ASSET_CLASS_LEVEL3" type="text" />
			<column name="QUANTITY" type="number" />
			<column name="PRICE" type="number" />
			<column name="MARKET_VALUE" type="number" />
		</view>
		<view name="PERFORMANCE_ATTRIBUTION_BY_COUNTRY" >
			<view_script><![CDATA[create or replace view ${view}(  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  PERFORMANCE_RETURN_PERIOD_NAME,  ATTRIBUTION_METHOD_DESCRIPTION,  COUNTRY_NAME,  PORTFOLIO_WEIGHT,  PORTFOLIO_CONTRIBUTION,  BENCHMARK_WEIGHT,  BENCHMARK_CONTRIBUTION,  RELATIVE_WEIGHT,  DURATION_EFFECT,  YIELD_CURVE_EFFECT,  ALLOCATION_EFFECT,  SELECTION_EFFECT,  FX_EFFECT,  TOTAL_EFFECT) as select DP.portfolio_code, DP.portfolio_legal_name, RP.performance_return_period_name,    AM.attribution_method_description, DC.country_name,    F.portfolio_weight, F.portfolio_contribution, F.benchmark_weight, F.benchmark_contribution,   (F.portfolio_weight-F.benchmark_weight) as relative_weight,   F.duration_effect, F.yield_curve_effect, F.allocation_effect, F.selection_effect, F.fx_effect, F.total_effect from FACT_PERFORMANCE_ATTRIBUTION F join DIM_PORTFOLIO DP on F.portfolio_key = DP.portfolio_key join DIM_PERFORMANCE_RETURN_PERIOD RP on F.performance_return_period_key = RP.performance_return_period_key join DIM_ATTRIBUTION_METHOD AM on F.attribution_method_key = AM.attribution_method_key join DIM_COUNTRY DC on F.attribution_factor_key = DC.country_key order by portfolio_weight]]></view_script>
			<column name="PORTFOLIO_CODE" type="text" />
			<column name="PORTFOLIO_LEGAL_NAME" type="text" />
			<column name="PERFORMANCE_RETURN_PERIOD_NAME" type="text" />
			<column name="ATTRIBUTION_METHOD_DESCRIPTION" type="text" />
			<column name="COUNTRY_NAME" type="text" />
			<column name="PORTFOLIO_WEIGHT" type="number" />
			<column name="PORTFOLIO_CONTRIBUTION" type="number" />
			<column name="BENCHMARK_WEIGHT" type="number" />
			<column name="BENCHMARK_CONTRIBUTION" type="number" />
			<column name="RELATIVE_WEIGHT" type="number" />
			<column name="DURATION_EFFECT" type="number" />
			<column name="YIELD_CURVE_EFFECT" type="number" />
			<column name="ALLOCATION_EFFECT" type="number" />
			<column name="SELECTION_EFFECT" type="number" />
			<column name="FX_EFFECT" type="number" />
			<column name="TOTAL_EFFECT" type="number" />
		</view>
		<view name="PERFORMANCE_RETURN" >
			<view_script><![CDATA[create or replace view ${view}(  DATE_KEY,  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  PERFORMANCE_RETURN_TYPE_NAME,  PERFORMANCE_RETURN_TYPE_DESCRIPTION,  PERFORMANCE_ENTITY_TYPE,  RETURN_1M,  RETURN_3M,  RETURN_6M,  RETURN_YTD,  RETURN_1Y,  RETURN_3Y,  RETURN_5Y,  RETURN_10Y,  RETURN_SI) as select F.date_key, DP.portfolio_code, DP.portfolio_legal_name,    RT.performance_return_type_name, RT.performance_return_type_description,   F.performance_entity_type, F.return_1m, F.return_3m, F.return_6m, F.return_ytd,    F.return_1y, F.return_3y, F.return_5y, F.return_10y, F.return_si from FACT_PERFORMANCE_RETURN F join DIM_PORTFOLIO DP on F.portfolio_key = DP.portfolio_key join DIM_PERFORMANCE_RETURN_TYPE RT on F.performance_return_type_key = RT.performance_return_type_key]]></view_script>
			<column name="DATE_KEY" type="number" />
			<column name="PORTFOLIO_CODE" type="text" />
			<column name="PORTFOLIO_LEGAL_NAME" type="text" />
			<column name="PERFORMANCE_RETURN_TYPE_NAME" type="text" />
			<column name="PERFORMANCE_RETURN_TYPE_DESCRIPTION" type="text" />
			<column name="PERFORMANCE_ENTITY_TYPE" type="text" />
			<column name="RETURN_1M" type="number" />
			<column name="RETURN_3M" type="number" />
			<column name="RETURN_6M" type="number" />
			<column name="RETURN_YTD" type="number" />
			<column name="RETURN_1Y" type="number" />
			<column name="RETURN_3Y" type="number" />
			<column name="RETURN_5Y" type="number" />
			<column name="RETURN_10Y" type="number" />
			<column name="RETURN_SI" type="number" />
		</view>
		<view name="PORTFOLIO_ANALYTICS" >
			<view_script><![CDATA[create or replace view ${view}(  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  PORTFOLIO_GROUP,  INCEPTION_DATE,  BASE_CURRENCY,  BENCHMARK_CODE,  BENCHMARK_NAME,  PORTFOLIO_STATUS,  PORTFOLIO_TYPE,  NUMBER_OF_HOLDINGS,  NUMBER_OF_ISSUERS,  MARKET_CAP,  PRICE_TO_EARNING_RATIO_TTM,  WEIGHTED_AVERAGE_COUPON,  WEIGHTED_AVERAGE_CREDIT_QUALITY,  CURRENT_YIELD,  SPREAD_DURATION,  EFFECTIVE_MATURITY,  MODIFIED_DURATION,  DURATION_TIMES_SPREAD,  STANDARD_DEVIATION_1Y,  SHARPE_RATIO_1Y,  LATEST_FLAG) as select DP.portfolio_code, DP.portfolio_legal_name, DP.portfolio_group, DP.inception_date,    DP.base_currency, DP.benchmark_code, DB.BENCHMARK_NAME,   DP.portfolio_status, DP.portfolio_type,    F.number_of_holdings, F.number_of_issuers, F.market_cap,    F.price_to_earning_ratio_ttm,   F.weighted_average_coupon, F.weighted_average_credit_quality,   F.current_yield, F.spread_duration, F.effective_maturity, F.modified_duration,   F.duration_times_spread, F.standard_deviation_1y, F.sharpe_ratio_1y,   DP.LATEST_FLAG from DIM_PORTFOLIO DP  left join FACT_PORTFOLIO_ANALYTIC F on DP.portfolio_key = F.portfolio_key left join DIM_BENCHMARK DB on DP.benchmark_code = DB.benchmark_code where DP.LATEST_FLAG = 'TRUE']]></view_script>
			<column name="PORTFOLIO_CODE" type="text" />
			<column name="PORTFOLIO_LEGAL_NAME" type="text" />
			<column name="PORTFOLIO_GROUP" type="text" />
			<column name="INCEPTION_DATE" type="date" />
			<column name="BASE_CURRENCY" type="text" />
			<column name="BENCHMARK_CODE" type="text" />
			<column name="BENCHMARK_NAME" type="text" />
			<column name="PORTFOLIO_STATUS" type="text" />
			<column name="PORTFOLIO_TYPE" type="text" />
			<column name="NUMBER_OF_HOLDINGS" type="number" />
			<column name="NUMBER_OF_ISSUERS" type="number" />
			<column name="MARKET_CAP" type="number" />
			<column name="PRICE_TO_EARNING_RATIO_TTM" type="number" />
			<column name="WEIGHTED_AVERAGE_COUPON" type="number" />
			<column name="WEIGHTED_AVERAGE_CREDIT_QUALITY" type="text" />
			<column name="CURRENT_YIELD" type="number" />
			<column name="SPREAD_DURATION" type="number" />
			<column name="EFFECTIVE_MATURITY" type="number" />
			<column name="MODIFIED_DURATION" type="number" />
			<column name="DURATION_TIMES_SPREAD" type="number" />
			<column name="STANDARD_DEVIATION_1Y" type="number" />
			<column name="SHARPE_RATIO_1Y" type="number" />
			<column name="LATEST_FLAG" type="boolean" />
		</view>
		<view name="SECURITY_ANALYTIC" >
			<view_script><![CDATA[create or replace view ${view}(  SECURITY_NAME,  COUNTRY_OF_DOMICILE,  CURRENCY_CODE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  MATURITY_DATE,  YIELD_TO_MATURITY,  YIELD_TO_WORST,  MODIFIED_DURATION,  SPREAD_DURATION,  OPTION_ADJUSTED_DURATION,  SPREAD,  DURATION_TIMES_SPREAD,  COUPON,  WEIGHTED_AVERAGE_LIFE,  MATURITY_BUCKET) as select DS.security_name, DS.country_of_domicile, DS.currency_code,    DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4, DS.maturity_date,   F.yield_to_maturity, F.yield_to_worst, F.modified_duration, F.spread_duration,   F.option_adjusted_duration, F.spread, F.duration_times_spread, F.coupon, F.weighted_average_life, F.maturity_bucket from FACT_SECURITY_ANALYTIC F join DIM_SECURITY DS on F.security_key = DS.security_key where F.date_key = 20230930 order by security_name]]></view_script>
			<column name="SECURITY_NAME" type="text" />
			<column name="COUNTRY_OF_DOMICILE" type="text" />
			<column name="CURRENCY_CODE" type="text" />
			<column name="GICS_SECTOR_LEVEL1" type="text" />
			<column name="GICS_SECTOR_LEVEL2" type="text" />
			<column name="GICS_SECTOR_LEVEL3" type="text" />
			<column name="GICS_SECTOR_LEVEL4" type="text" />
			<column name="MATURITY_DATE" type="date" />
			<column name="YIELD_TO_MATURITY" type="number" />
			<column name="YIELD_TO_WORST" type="number" />
			<column name="MODIFIED_DURATION" type="number" />
			<column name="SPREAD_DURATION" type="number" />
			<column name="OPTION_ADJUSTED_DURATION" type="number" />
			<column name="SPREAD" type="number" />
			<column name="DURATION_TIMES_SPREAD" type="number" />
			<column name="COUPON" type="number" />
			<column name="WEIGHTED_AVERAGE_LIFE" type="number" />
			<column name="MATURITY_BUCKET" type="text" />
		</view>
	</schema>
	<layout name="Main Layout" id="Layout-12c3" show_relation="columns" >
		<entity schema="CUTTER_DW.DW" name="BENCHMARK_CONSTITUENTS" color="BED3F4" x="1649" y="1836" />
		<entity schema="CUTTER_DW.DW" name="DIM_ACCOUNT" color="F4DDBE" x="3043" y="714" />
		<entity schema="CUTTER_DW.DW" name="DIM_ATTRIBUTION_METHOD" color="F4DDBE" x="2652" y="459" />
		<entity schema="CUTTER_DW.DW" name="DIM_BENCHMARK" color="BEBEF4" x="1887" y="1071" />
		<entity schema="CUTTER_DW.DW" name="DIM_BROKER" color="F4DDBE" x="3043" y="85" />
		<entity schema="CUTTER_DW.DW" name="DIM_CLIENT" color="F4DDBE" x="2754" y="714" />
		<entity schema="CUTTER_DW.DW" name="DIM_COUNTRY" color="BEBEF4" x="1632" y="544" />
		<entity schema="CUTTER_DW.DW" name="DIM_CURRENCY" color="BEBEF4" x="2278" y="119" />
		<entity schema="CUTTER_DW.DW" name="DIM_CUSTOM_ATTRIBUTION_FACTOR" color="BEBEF4" x="1887" y="85" />
		<entity schema="CUTTER_DW.DW" name="DIM_DATE" color="C7F4BE" x="1037" y="85" />
		<entity schema="CUTTER_DW.DW" name="DIM_ISSUER" color="F4DDBE" x="3043" y="1071" />
		<entity schema="CUTTER_DW.DW" name="DIM_PERFORMANCE_RETURN_PERIOD" color="BEBEF4" x="1496" y="119" />
		<entity schema="CUTTER_DW.DW" name="DIM_PERFORMANCE_RETURN_TYPE" color="C7F4BE" x="1037" y="493" />
		<entity schema="CUTTER_DW.DW" name="DIM_PORTFOLIO" color="C7F4BE" x="357" y="85" />
		<entity schema="CUTTER_DW.DW" name="DIM_PRODUCT" color="F4DDBE" x="3417" y="714" />
		<entity schema="CUTTER_DW.DW" name="DIM_SECTOR" color="BEBEF4" x="1581" y="816" />
		<entity schema="CUTTER_DW.DW" name="DIM_SECURITY" color="BEBEF4" x="2278" y="374" />
		<entity schema="CUTTER_DW.DW" name="EXPOSURE_BY_COUNTRY" color="BED3F4" x="1955" y="1836" />
		<entity schema="CUTTER_DW.DW" name="EXPOSURE_BY_SECTOR" color="BED3F4" x="2244" y="2057" />
		<entity schema="CUTTER_DW.DW" name="FACT_BENCHMARK_CONSTITUENT" color="BEBEF4" x="1887" y="816" />
		<entity schema="CUTTER_DW.DW" name="FACT_CLIENT_ACCOUNT_RELATIONSHIP" color="F4DDBE" x="3043" y="442" />
		<entity schema="CUTTER_DW.DW" name="FACT_HOLDING" color="C7F4BE" x="663" y="493" />
		<entity schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_ATTRIBUTION" color="BEBEF4" x="1887" y="374" />
		<entity schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_RETURN" color="C7F4BE" x="663" y="85" />
		<entity schema="CUTTER_DW.DW" name="FACT_PORTFOLIO_ANALYTIC" color="C7F4BE" x="272" y="493" />
		<entity schema="CUTTER_DW.DW" name="FACT_PORTFOLIO_VALUATION" color="C7F4BE" x="51" y="255" />
		<entity schema="CUTTER_DW.DW" name="FACT_PRODUCT_PORTFOLIO_RELATIONSHIP" color="F4DDBE" x="3417" y="442" />
		<entity schema="CUTTER_DW.DW" name="FACT_SECURITY_ANALYTIC" color="C7F4BE" x="986" y="816" />
		<entity schema="CUTTER_DW.DW" name="FACT_TRANSACTION" color="F4DDBE" x="2737" y="85" />
		<entity schema="CUTTER_DW.DW" name="FUND_LOOKTHROUGH" color="BED3F4" x="1955" y="2261" />
		<entity schema="CUTTER_DW.DW" name="HOLDINGS_VIEW" color="BED3F4" x="1649" y="2261" />
		<entity schema="CUTTER_DW.DW" name="MY_FIRST_DBT_MODEL" color="BED3F4" x="1955" y="2091" />
		<entity schema="CUTTER_DW.DW" name="PERFORMANCE_ATTRIBUTION_BY_COUNTRY" color="BED3F4" x="1258" y="2261" />
		<entity schema="CUTTER_DW.DW" name="PERFORMANCE_RETURN" color="BED3F4" x="1224" y="2686" />
		<entity schema="CUTTER_DW.DW" name="PORTFOLIO_ANALYTICS" color="BED3F4" x="1258" y="1717" />
		<entity schema="CUTTER_DW.DW" name="SECURITY_ANALYTIC" color="BED3F4" x="1649" y="1377" />
		<entity schema="CUTTER_DW.DW" name="WIDE_HOLDINGS" color="BED3F4" x="2244" y="1428" />
		<callout x="1887" y="238" pointer="Round" >
			<comment><![CDATA[This is a layout. You can create multiple layouts with the same or different tables. 

Edit tables by double-clicking the table headers.]]></comment>
		</callout>
		<group name="BENCHMARK_CONSTITUENTS" color="ECF0F7" >
			<entity schema="CUTTER_DW.DW" name="EXPOSURE_BY_COUNTRY" />
			<entity schema="CUTTER_DW.DW" name="FUND_LOOKTHROUGH" />
			<entity schema="CUTTER_DW.DW" name="HOLDINGS_VIEW" />
			<entity schema="CUTTER_DW.DW" name="MY_FIRST_DBT_MODEL" />
			<entity schema="CUTTER_DW.DW" name="PERFORMANCE_ATTRIBUTION_BY_COUNTRY" />
			<entity schema="CUTTER_DW.DW" name="PORTFOLIO_ANALYTICS" />
			<entity schema="CUTTER_DW.DW" name="SECURITY_ANALYTIC" />
			<entity schema="CUTTER_DW.DW" name="WIDE_HOLDINGS" />
			<entity schema="CUTTER_DW.DW" name="PERFORMANCE_RETURN" />
			<entity schema="CUTTER_DW.DW" name="EXPOSURE_BY_SECTOR" />
			<entity schema="CUTTER_DW.DW" name="BENCHMARK_CONSTITUENTS" />
		</group>
		<group name="FACT_CLIENT_ACCOUNT_RELATIONSHIP" color="F7F2EC" >
			<entity schema="CUTTER_DW.DW" name="FACT_CLIENT_ACCOUNT_RELATIONSHIP" />
			<entity schema="CUTTER_DW.DW" name="FACT_PRODUCT_PORTFOLIO_RELATIONSHIP" />
			<entity schema="CUTTER_DW.DW" name="DIM_PRODUCT" />
			<entity schema="CUTTER_DW.DW" name="DIM_ACCOUNT" />
			<entity schema="CUTTER_DW.DW" name="DIM_CLIENT" />
			<entity schema="CUTTER_DW.DW" name="DIM_ATTRIBUTION_METHOD" />
			<entity schema="CUTTER_DW.DW" name="FACT_TRANSACTION" />
			<entity schema="CUTTER_DW.DW" name="DIM_BROKER" />
			<entity schema="CUTTER_DW.DW" name="DIM_ISSUER" />
		</group>
		<group name="FACT_PERFORMANCE_ATTRIBUTION" color="ECECF7" >
			<entity schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_ATTRIBUTION" />
			<entity schema="CUTTER_DW.DW" name="DIM_SECURITY" />
			<entity schema="CUTTER_DW.DW" name="FACT_BENCHMARK_CONSTITUENT" />
			<entity schema="CUTTER_DW.DW" name="DIM_BENCHMARK" />
			<entity schema="CUTTER_DW.DW" name="DIM_SECTOR" />
			<entity schema="CUTTER_DW.DW" name="DIM_COUNTRY" />
			<entity schema="CUTTER_DW.DW" name="DIM_PERFORMANCE_RETURN_PERIOD" />
			<entity schema="CUTTER_DW.DW" name="DIM_CUSTOM_ATTRIBUTION_FACTOR" />
			<entity schema="CUTTER_DW.DW" name="DIM_CURRENCY" />
		</group>
		<group name="DIM_PORTFOLIO" color="EEF7EC" >
			<entity schema="CUTTER_DW.DW" name="DIM_PORTFOLIO" />
			<entity schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_RETURN" />
			<entity schema="CUTTER_DW.DW" name="DIM_DATE" />
			<entity schema="CUTTER_DW.DW" name="FACT_HOLDING" />
			<entity schema="CUTTER_DW.DW" name="DIM_PERFORMANCE_RETURN_TYPE" />
			<entity schema="CUTTER_DW.DW" name="FACT_PORTFOLIO_ANALYTIC" />
			<entity schema="CUTTER_DW.DW" name="FACT_PORTFOLIO_VALUATION" />
			<entity schema="CUTTER_DW.DW" name="FACT_SECURITY_ANALYTIC" />
		</group>
		<script name="SQL_Editor" id="Editor-151c" language="SQL" >
			<string><![CDATA[USE EMISSARY_DB;
CREATE SCHEMA DW;

CREATE  or replace TABLE DW.DIM_ACCOUNT ( 
	ACCOUNT_KEY          integer NOT NULL   ,
	ACCOUNT_NUMBER       varchar(30)    ,
	ACCOUNT_NAME         varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_ACCOUNT_ACCOUNT_KEY PRIMARY KEY ( ACCOUNT_KEY )
 );

CREATE  or replace TABLE DW.DIM_ATTRIBUTION_METHOD ( 
	ATTRIBUTION_METHOD_KEY integer NOT NULL   ,
	ATTRIBUTION_METHOD_NAME varchar(100)    ,
	ATTRIBUTION_METHOD_DESCRIPTION varchar(200)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_ATTRIBUTION_METHOD_ATTRIBUTION_METHOD_KEY PRIMARY KEY ( ATTRIBUTION_METHOD_KEY )
 );

CREATE  or replace TABLE DW.DIM_BENCHMARK ( 
	BENCHMARK_KEY        integer NOT NULL   ,
	BENCHMARK_CODE       varchar(50) NOT NULL   ,
	BENCHMARK_NAME       varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	IS_CURRENT           boolean    ,
	CONSTRAINT PK_DIM_BENCHMARK_BENCHMARK_KEY PRIMARY KEY ( BENCHMARK_KEY )
 );

CREATE  or replace TABLE DW.DIM_BROKER ( 
	BROKER_KEY           integer NOT NULL   ,
	BROKER_CODE          varchar(30)    ,
	BROKER_NAME          varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_BROKER_BROKER_KEY PRIMARY KEY ( BROKER_KEY )
 );

CREATE  or replace TABLE DW.DIM_CLIENT ( 
	CLIENT_KEY           integer NOT NULL   ,
	CLIENT_NAME          varchar(100)    ,
	CLIENT_DESCRIPTION   varchar(16777216)    ,
	STREET_ADDRESS       varchar(100)    ,
	CITY                 varchar(50)    ,
	STATE                varchar(50)    ,
	ZIP_CODE             varchar(20)    ,
	TELEPHONE_NUMBER     varchar(30)    ,
	CONTACT_NAME         varchar(50)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_CLIENT_CLIENT_KEY PRIMARY KEY ( CLIENT_KEY )
 );

CREATE  or replace TABLE DW.DIM_COUNTRY ( 
	COUNTRY_KEY          integer NOT NULL   ,
	COUNTRY_CODE         varchar(5)    ,
	COUNTRY_NAME         varchar(100)    ,
	REGION               varchar(50)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_COUNTRY_COUNTRY_KEY PRIMARY KEY ( COUNTRY_KEY )
 );

CREATE  or replace TABLE DW.DIM_CURRENCY ( 
	CURRENCY_KEY         integer NOT NULL   ,
	CURRENCY_CODE        varchar(5)    ,
	CURRENCY_NAME        varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_CURRENCY_CURRENCY_KEY PRIMARY KEY ( CURRENCY_KEY )
 );

CREATE  or replace TABLE DW.DIM_CUSTOM_ATTRIBUTION_FACTOR ( 
	ATTRIBUTION_FACTOR_KEY integer NOT NULL   ,
	ATTRIBUTION_FACTOR_LEVEL1 varchar(100)    ,
	ATTRIBUTION_FACTOR_LEVEL2 varchar(100)    ,
	ATTRIBUTION_FACTOR_LEVEL3 varchar(100)    ,
	ATTRIBUTION_FACTOR_LEVEL4 varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_ATTRIBUTION_FACTOR_ATTRIBUTION_FACTOR_KEY PRIMARY KEY ( ATTRIBUTION_FACTOR_KEY )
 );

CREATE  or replace TABLE DW.DIM_DATE ( 
	DATE_KEY             integer NOT NULL   ,
	DATE                 date NOT NULL   ,
	DAY                  integer    ,
	WEEKDAY_NAME         varchar(20)    ,
	WEEK_NUMBER          integer    ,
	MONTH_NUMBER         integer    ,
	MONTH_NAME           varchar(10)    ,
	QUARTER              varchar(5)    ,
	YEAR                 integer    ,
	WEEKDAY_FLAG         boolean    ,
	MONTH_END_FLAG       boolean    ,
	QUARTER_END_FLAG     boolean    ,
	CONSTRAINT PK_DIM_DATE_DATE_KEY PRIMARY KEY ( DATE_KEY )
 );

CREATE  or replace TABLE DW.DIM_ISSUER ( 
	ISSUER_KEY           integer NOT NULL   ,
	ISSUER_ID            varchar(20)    ,
	ISSUER_NAME          varchar(100)    ,
	ISSUER_LEI           varchar(50)    ,
	FACTSET_ENTITY_ID    varchar(50)    ,
	HEADQUARTERS_STREET_ADDRESS varchar(100)    ,
	HEADQUARTERS_CITY    varchar(50)    ,
	HEADQUARTERS_STATE   varchar(50)    ,
	HEADQUARTERS_ZIP_CODE varchar(20)    ,
	HEADQUARTERS_COUNTRY_CODE varchar(5)    ,
	PARENT_ISSUER_ID     varchar(50)    ,
	PARENT_ISSUER_NAME   varchar(100)    ,
	ULTIMATE_PARENT_ISSUER_ID varchar(50)    ,
	ULTIMATE_PARENT_ISSUER_NAME varchar(100)    ,
	COUNTRY_OF_RISK      varchar(5)    ,
	COUNTRY_OF_DOMICILE  varchar(5)    ,
	COUNTRY_OF_INCORPORATION varchar(5)    ,
	GICS_SECTOR_LEVEL1   varchar(100)    ,
	GICS_SECTOR_LEVEL2   varchar(100)    ,
	GICS_SECTOR_LEVEL3   varchar(100)    ,
	GICS_SECTOR_LEVEL4   varchar(100)    ,
	ICE_SECTOR_LEVEL1    varchar(100)    ,
	ICE_SECTOR_LEVEL2    varchar(100)    ,
	ICE_SECTOR_LEVEL3    varchar(100)    ,
	ICE_SECTOR_LEVEL4    varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_ISSUER_ISSUER_KEY PRIMARY KEY ( ISSUER_KEY )
 );

CREATE  or replace TABLE DW.DIM_PERFORMANCE_RETURN_PERIOD ( 
	PERFORMANCE_RETURN_PERIOD_KEY integer NOT NULL   ,
	PERFORMANCE_RETURN_PERIOD_CODE varchar(30)    ,
	PERFORMANCE_RETURN_PERIOD_NAME varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_PERFORMANCE_RETURN_PERIOD_PERFORMANCE_RETURN_PERIOD_KEY PRIMARY KEY ( PERFORMANCE_RETURN_PERIOD_KEY )
 );

CREATE  or replace TABLE DW.DIM_PERFORMANCE_RETURN_TYPE ( 
	PERFORMANCE_RETURN_TYPE_KEY integer NOT NULL   ,
	PERFORMANCE_RETURN_TYPE_NAME varchar(100)    ,
	PERFORMANCE_RETURN_TYPE_DESCRIPTION varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_PERFORMANCE_TYPE_PERFORMANCE_TYPE_KEY PRIMARY KEY ( PERFORMANCE_RETURN_TYPE_KEY )
 );

CREATE  or replace TABLE DW.DIM_PORTFOLIO ( 
	PORTFOLIO_KEY        integer NOT NULL   ,
	PORTFOLIO_CODE       varchar(50) NOT NULL   ,
	PORTFOLIO_LEGAL_NAME varchar(200)    ,
	PORTFOLIO_SHORT_NAME varchar(100)    ,
	PORTFOLIO_STATUS     varchar(30)    ,
	PORTFOLIO_TYPE       varchar(30)    ,
	BASE_CURRENCY        varchar(10)    ,
	INCEPTION_DATE       date    ,
	BENCHMARK_CODE       varchar(50)    ,
	PORTFOLIO_GROUP      varchar(100)    ,
	LEGAL_STRUCTURE      varchar(100)    ,
	TAX_EXEMPT_INDICATOR boolean    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_PORTFOLIO PRIMARY KEY ( PORTFOLIO_KEY )
 );

CREATE  or replace TABLE DW.DIM_PRODUCT ( 
	PRODUCT_KEY          integer NOT NULL   ,
	PRODUCT_NAME         varchar(100)    ,
	PRODUCT_DESCRIPTION  varchar(50)    ,
	PRODUCT_LEGAL_STRUCTURE varchar(16777216)    ,
	PRODUCT_FEE_STRUCTURE varchar(100)    ,
	PRODUCT_REGULATOR    varchar(100)    ,
	INVESTMENT_TEAM      varchar(100)    ,
	INVESTMENT_STRATEGY  varchar(100)    ,
	INVESTMENT_VEHICLE   varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          timestamp_ntz(9)    ,
	CONSTRAINT PK_DIM_PRODUCT_PRODUCT_KEY PRIMARY KEY ( PRODUCT_KEY )
 );

CREATE  or replace TABLE DW.DIM_SECTOR ( 
	SECTOR_KEY           integer NOT NULL   ,
	CLASSIFICATION_SCHEME varchar(50)    ,
	SECTOR_CODE_LEVEL1   varchar(50)    ,
	SECTOR_CODE_LEVEL2   varchar(50)    ,
	SECTOR_CODE_LEVEL3   varchar(50)    ,
	SECTOR_CODE_LEVEL4   varchar(50)    ,
	SECTOR_NAME_LEVEL1   varchar(100)    ,
	SECTOR_NAME_LEVEL2   varchar(100)    ,
	SECTOR_NAME_LEVEL3   varchar(100)    ,
	SECTOR_NAME_LEVEL4   varchar(100)    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_DIM_SECTOR_SECTOR_KEY PRIMARY KEY ( SECTOR_KEY )
 );

CREATE  or replace TABLE DW.DIM_SECURITY ( 
	SECURITY_KEY         integer NOT NULL   ,
	SECURITY_NAME        varchar(100)    ,
	SECURITY_TYPE        varchar(50)    ,
	PORTFOLIO_CODE       varchar(50)    ,
	ISIN                 varchar(20)    ,
	SEDOL                varchar(20)    ,
	CUSIP                varchar(20)    ,
	TICKER               varchar(20)    ,
	BLOOMBERG_ID         varchar(30)    ,
	FACTSET_ID           varchar(30)    ,
	ISSUER_KEY           integer    ,
	ASSET_CLASS_LEVEL1   varchar(50)    ,
	ASSET_CLASS_LEVEL2   varchar(50)    ,
	ASSET_CLASS_LEVEL3   varchar(50)    ,
	CURRENCY_CODE        varchar(5)    ,
	COUNTRY_OF_RISK      varchar(5)    ,
	COUNTRY_OF_DOMICILE  varchar(5)    ,
	GICS_SECTOR_LEVEL1   varchar(100)    ,
	GICS_SECTOR_LEVEL2   varchar(100)    ,
	GICS_SECTOR_LEVEL3   varchar(100)    ,
	GICS_SECTOR_LEVEL4   varchar(100)    ,
	ICE_SECTOR_LEVEL1    varchar(100)    ,
	ICE_SECTOR_LEVEL2    varchar(100)    ,
	ICE_SECTOR_LEVEL3    varchar(100)    ,
	ICE_SECTOR_LEVEL4    varchar(100)    ,
	SANDP_RATING_LONG_TERM varchar(10)    ,
	SANDP_RATING_SHORT_TERM varchar(10)    ,
	MOODYS_RATING_LONG_TERM varchar(10)    ,
	MOODYS_RATING_SHORT_TERM varchar(10)    ,
	FITCH_RATING_LONG_TERM varchar(10)    ,
	FITCH_RATING_SHORT_TERM varchar(10)    ,
	MATURITY_DATE        date    ,
	VALID_FROM           timestamp_ntz(9)    ,
	VALID_TO             timestamp_ntz(9)    ,
	LATEST_FLAG          boolean    ,
	CONSTRAINT PK_SECURITY PRIMARY KEY ( SECURITY_KEY )
 );

CREATE  or replace TABLE DW.FACT_BENCHMARK_CONSTITUENT ( 
	DATE_KEY             integer NOT NULL   ,
	BENCHMARK_KEY        integer NOT NULL   ,
	SECURITY_KEY         integer NOT NULL   ,
	WEIGHT               number(15,10) NOT NULL   ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_BENCHMARK_CONSTITUENT PRIMARY KEY ( DATE_KEY, BENCHMARK_KEY, SECURITY_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP ( 
	CLIENT_KEY           integer NOT NULL   ,
	ACCOUNT_KEY          integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	PRODUCT_KEY          integer NOT NULL   ,
	DESCRIPTION          varchar(100)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_PORTFOLIO_ACCOUNT_CLIENT_RELATIONSHIP_ACCOUNT_KEY PRIMARY KEY ( ACCOUNT_KEY, CLIENT_KEY, PORTFOLIO_KEY, PRODUCT_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_HOLDING ( 
	DATE_KEY             integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	SECURITY_KEY         integer NOT NULL   ,
	QUANTITY             number(20,6)    ,
	PRICE_BASE_CCY       number(20,6)    ,
	PRICE_LOCAL_CCY      number(20,6)    ,
	MARKET_VALUE_BASE_CCY number(20,6) NOT NULL   ,
	MARKET_VALUE_LOCAL_CCY number(20,6) NOT NULL   ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_HOLDING PRIMARY KEY ( DATE_KEY, PORTFOLIO_KEY, SECURITY_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_PERFORMANCE_ATTRIBUTION ( 
	DATE_KEY             integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	PERFORMANCE_RETURN_PERIOD_KEY integer NOT NULL   ,
	ATTRIBUTION_METHOD_KEY integer NOT NULL   ,
	ATTRIBUTION_FACTOR_KEY integer NOT NULL   ,
	PORTFOLIO_WEIGHT     number(15,10)    ,
	PORTFOLIO_CONTRIBUTION number(15,10)    ,
	BENCHMARK_WEIGHT     number(15,10)    ,
	BENCHMARK_CONTRIBUTION number(15,10)    ,
	DURATION_EFFECT      number(15,10)    ,
	YIELD_CURVE_EFFECT   number(15,10)    ,
	ALLOCATION_EFFECT    number(15,10)    ,
	SELECTION_EFFECT     number(15,10)    ,
	FX_EFFECT            number(15,10)    ,
	TOTAL_EFFECT         number(15,10)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_PERFORMANCE_ATTRIBUTION_DATE_KEY PRIMARY KEY ( DATE_KEY, PORTFOLIO_KEY, PERFORMANCE_RETURN_PERIOD_KEY, ATTRIBUTION_METHOD_KEY, ATTRIBUTION_FACTOR_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_PERFORMANCE_RETURN ( 
	DATE_KEY             integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	PERFORMANCE_RETURN_TYPE_KEY integer NOT NULL   ,
	PERFORMANCE_ENTITY_TYPE varchar(30) NOT NULL   ,
	RETURN_1M            number(20,10)    ,
	RETURN_3M            number(20,10)    ,
	RETURN_6M            number(20,10)    ,
	RETURN_YTD           number(20,10)    ,
	RETURN_1Y            number(20,10)    ,
	RETURN_3Y            number(20,10)    ,
	RETURN_5Y            number(20,10)    ,
	RETURN_10Y           number(20,10)    ,
	RETURN_SI            number(20,10)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_PERFORMANCE_RETURN_DATE_KEY PRIMARY KEY ( DATE_KEY, PORTFOLIO_KEY, PERFORMANCE_RETURN_TYPE_KEY, PERFORMANCE_ENTITY_TYPE, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_PORTFOLIO_ANALYTIC ( 
	DATE_KEY             integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	NUMBER_OF_HOLDINGS   integer    ,
	NUMBER_OF_ISSUERS    integer    ,
	MARKET_CAP           number(20,6)    ,
	PRICE_TO_EARNING_RATIO_TTM number(20,6)    ,
	PRICE_TO_BOOK_RATIO_TTM number(20,6)    ,
	WEIGHTED_AVERAGE_COUPON number(20,6)    ,
	WEIGHTED_AVERAGE_CREDIT_QUALITY varchar(20)    ,
	CURRENT_YIELD        number(20,6)    ,
	SPREAD_DURATION      number(20,6)    ,
	EFFECTIVE_MATURITY   number(20,6)    ,
	MODIFIED_DURATION    number(20,6)    ,
	DURATION_TIMES_SPREAD number(20,6)    ,
	STANDARD_DEVIATION_1Y number(20,6)    ,
	SHARPE_RATIO_1Y      number(20,2)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_PORTFOLIO_ANALYTIC_DATE_KEY PRIMARY KEY ( DATE_KEY, PORTFOLIO_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_PORTFOLIO_VALUATION ( 
	DATE_TIME            integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	NAV                  number(20,6)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_PORTFOLIO_VALUATION_DATE_TIME PRIMARY KEY ( DATE_TIME, PORTFOLIO_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP ( 
	PRODUCT_KEY          integer NOT NULL   ,
	PORTFOLIO_KEY        integer NOT NULL   ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_PRODUCT_DEFINITI_PRODUCT_KEY PRIMARY KEY ( PRODUCT_KEY, PORTFOLIO_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_SECURITY_ANALYTIC ( 
	DATE_KEY             integer NOT NULL   ,
	SECURITY_KEY         integer NOT NULL   ,
	YIELD_TO_MATURITY    number(20,6)    ,
	YIELD_TO_WORST       number(20,6)    ,
	MODIFIED_DURATION    number(20,6)    ,
	SPREAD_DURATION      number(20,6)    ,
	OPTION_ADJUSTED_DURATION number(20,6)    ,
	SPREAD               number(20,6)    ,
	DURATION_TIMES_SPREAD number(20,6)    ,
	COUPON               number(20,6)    ,
	WEIGHTED_AVERAGE_LIFE number(20,6)    ,
	MATURITY_BUCKET      varchar(20)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_SECURITY_ANALYTICS PRIMARY KEY ( DATE_KEY, SECURITY_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TABLE DW.FACT_TRANSACTION ( 
	TRANSACTION_KEY      varchar(50) NOT NULL   ,
	TRADE_DATE_KEY       integer NOT NULL   ,
	SETTLEMENT_DATE_KEY  integer NOT NULL   ,
	SECURITY_KEY         integer NOT NULL   ,
	BROKER_KEY           integer NOT NULL   ,
	TRANSACTION_TYPE     integer    ,
	QUANTITY             number(20,6)    ,
	PRICE                number(20,6)    ,
	AMOUNT               number(20,6)    ,
	COMMISSION           number(20,6)    ,
	DATETIME_INSERTED    timestamp_ntz(9) NOT NULL   ,
	LATEST_FLAG          boolean NOT NULL   ,
	CONSTRAINT PK_FACT_TRANSACTION PRIMARY KEY ( TRANSACTION_KEY, TRADE_DATE_KEY, SETTLEMENT_DATE_KEY, SECURITY_KEY, BROKER_KEY, DATETIME_INSERTED )
 );

CREATE  or replace TRANSIENT TABLE CUTTER_DW.DW.MY_FIRST_DBT_MODEL ( 
	ID                   number(1,0)    
 );

CREATE  or replace TABLE DW.WIDE_HOLDINGS ( 
	DATE_KEY             integer    ,
	PORTFOLIO_CODE       varchar(50)    ,
	PORTFOLIO_LEGAL_NAME varchar(200)    ,
	SECURITY_NAME        varchar(100)    ,
	SECURITY_TYPE        varchar(50)    ,
	LOOKTHROUGH_PORTFOLIO_CODE varchar(50)    ,
	TICKER               varchar(20)    ,
	ISIN                 varchar(20)    ,
	CURRENCY_CODE        varchar(5)    ,
	COUNTRY_OF_DOMICILE  varchar(5)    ,
	GICS_SECTOR_LEVEL1   varchar(100)    ,
	GICS_SECTOR_LEVEL2   varchar(100)    ,
	GICS_SECTOR_LEVEL3   varchar(100)    ,
	GICS_SECTOR_LEVEL4   varchar(100)    ,
	ASSET_CLASS_LEVEL1   varchar(50)    ,
	ASSET_CLASS_LEVEL2   varchar(50)    ,
	ASSET_CLASS_LEVEL3   varchar(50)    ,
	ISSUER_ID            varchar(20)    ,
	ISSUER_NAME          varchar(100)    ,
	COUNTRY_NAME         varchar(100)    ,
	REGION               varchar(50)    ,
	QUANTITY             number(38,12)    ,
	PRICE                number(20,6)    ,
	MARKET_VALUE         number(38,12)    ,
	PORTFOLIO_VALUE      number(32,6)    ,
	PORTFOLIO_WEIGHT     number(38,12)    ,
	LOOKTHROUGH          varchar(1)    ,
	LOOKTHROUGH_PORTFOLIO varchar(50)    
 );

ALTER TABLE CUTTER_DW.DW.DIM_SECURITY ADD CONSTRAINT FK_DIM_SECURITY_DIM_ISSUER FOREIGN KEY ( ISSUER_KEY ) REFERENCES CUTTER_DW.DW.DIM_ISSUER( ISSUER_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT ADD CONSTRAINT FK_FACT_BENCHMARK_CONSTITUENTS_DIM_BENCHMARK FOREIGN KEY ( BENCHMARK_KEY ) REFERENCES CUTTER_DW.DW.DIM_BENCHMARK( BENCHMARK_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP ADD CONSTRAINT FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_ACCOUNT FOREIGN KEY ( ACCOUNT_KEY ) REFERENCES CUTTER_DW.DW.DIM_ACCOUNT( ACCOUNT_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP ADD CONSTRAINT FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_CLIENT FOREIGN KEY ( CLIENT_KEY ) REFERENCES CUTTER_DW.DW.DIM_CLIENT( CLIENT_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP ADD CONSTRAINT FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP ADD CONSTRAINT FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_PRODUCT FOREIGN KEY ( PRODUCT_KEY ) REFERENCES CUTTER_DW.DW.DIM_PRODUCT( PRODUCT_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_HOLDING ADD CONSTRAINT FK_FACT_HOLDING_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_HOLDING ADD CONSTRAINT FK_FACT_HOLDING_DIM_SECURITY FOREIGN KEY ( SECURITY_KEY ) REFERENCES CUTTER_DW.DW.DIM_SECURITY( SECURITY_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_HOLDING ADD CONSTRAINT FK_FACT_HOLDING_DIM_DATE FOREIGN KEY ( DATE_KEY ) REFERENCES CUTTER_DW.DW.DIM_DATE( DATE_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_COUNTRY FOREIGN KEY ( ATTRIBUTION_FACTOR_KEY ) REFERENCES CUTTER_DW.DW.DIM_COUNTRY( COUNTRY_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_DATE FOREIGN KEY ( DATE_KEY ) REFERENCES CUTTER_DW.DW.DIM_DATE( DATE_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_CURRENCY FOREIGN KEY ( ATTRIBUTION_FACTOR_KEY ) REFERENCES CUTTER_DW.DW.DIM_CURRENCY( CURRENCY_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_SECTOR FOREIGN KEY ( ATTRIBUTION_FACTOR_KEY ) REFERENCES CUTTER_DW.DW.DIM_SECTOR( SECTOR_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_ATTRIBUTION_METHOD FOREIGN KEY ( ATTRIBUTION_METHOD_KEY ) REFERENCES CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD( ATTRIBUTION_METHOD_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_PERFORMANCE_RETURN_PERIOD FOREIGN KEY ( PERFORMANCE_RETURN_PERIOD_KEY ) REFERENCES CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD( PERFORMANCE_RETURN_PERIOD_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION ADD CONSTRAINT FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_ATTRIBUTION_FACTOR FOREIGN KEY ( ATTRIBUTION_FACTOR_KEY ) REFERENCES CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR( ATTRIBUTION_FACTOR_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_RETURN ADD CONSTRAINT FK_FACT_PERFORMANCE_RETURN_DIM_DATE FOREIGN KEY ( DATE_KEY ) REFERENCES CUTTER_DW.DW.DIM_DATE( DATE_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_RETURN ADD CONSTRAINT FK_FACT_PERFORMANCE_RETURN_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PERFORMANCE_RETURN ADD CONSTRAINT FK_FACT_PERFORMANCE_RETURN_DIM_PERFORMANCE_RETURN_TYPE FOREIGN KEY ( PERFORMANCE_RETURN_TYPE_KEY ) REFERENCES CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE( PERFORMANCE_RETURN_TYPE_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC ADD CONSTRAINT FK_FACT_PORTFOLIO_ANALYTIC_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION ADD CONSTRAINT FK_FACT_PORTFOLIO_VALUATION_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP ADD CONSTRAINT FK_FACT_PRODUCT_PORTFOLIO_RELATIONSHIP_DIM_PRODUCT FOREIGN KEY ( PRODUCT_KEY ) REFERENCES CUTTER_DW.DW.DIM_PRODUCT( PRODUCT_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP ADD CONSTRAINT FK_FACT_PRODUCT_PORTFOLIO_RELATIONSHIP_DIM_PORTFOLIO FOREIGN KEY ( PORTFOLIO_KEY ) REFERENCES CUTTER_DW.DW.DIM_PORTFOLIO( PORTFOLIO_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE CUTTER_DW.DW.FACT_TRANSACTION ADD CONSTRAINT FK_FACT_TRANSACTION_DIM_BROKER FOREIGN KEY ( BROKER_KEY ) REFERENCES CUTTER_DW.DW.DIM_BROKER( BROKER_KEY ) ON DELETE NO ACTION ON UPDATE NO ACTION;

create or replace view CUTTER_DW.DW.BENCHMARK_CONSTITUENTS(  DATE_KEY,  BENCHMARK_CODE,  BENCHMARK_NAME,  SECURITY_NAME,  TICKER,  ISIN,  CURRENCY_CODE,  COUNTRY_OF_DOMICILE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  WEIGHT,  ISSUER_KEY,  ISSUER_NAME,  ISSUER_ID) as select    F.DATE_KEY,   DB.benchmark_code, DB.benchmark_name,    DS.security_name, DS.Ticker, DS.ISIN, DS.currency_code, DS. country_of_domicile,    DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,    F.Weight, DI.ISSUER_KEY, DI.ISSUER_NAME, DI.ISSUER_ID from Fact_Benchmark_Constituent F left join Dim_Benchmark DB on F.benchmark_key = DB.benchmark_key left join Dim_Portfolio DP on DB.benchmark_code = DP.benchmark_code left join Dim_Security DS on F.security_key = DS.security_key left join DIM_ISSUER DI on DS.ISSUER_KEY = DI.ISSUER_KEYorder by benchmark_code, security_name;

create or replace view CUTTER_DW.DW.EXPOSURE_BY_COUNTRY(  COUNTRY_CODE,  COUNTRY_NAME,  PORTFOLIO_WEIGHT,  BENCHMARK_WEIGHT) aswith AUM as ( select sum(FH.market_value_base_ccy) as AUM   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key), Portfolio_Weight as ( select DC.country_code, DC.country_name, sum(FH.market_value_base_ccy AUM.AUM*100) as Portfolio_Weight   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key   join Dim_Security DS on FH.security_key = DS.security_key   left join Dim_Country DC on DS.country_of_domicile = DC.country_code   cross join AUM   group by DC.country_code, DC.country_name), Benchmark_Weight as ( select DC.country_code, DC.country_name, sum(F.Weight) as Benchmark_Weight   from Fact_Benchmark_Constituent F   join Dim_Benchmark DB on F.benchmark_key = DB.benchmark_key   join Dim_Portfolio DP on DB.benchmark_code = DP.benchmark_code   join Dim_Security DS on F.security_key = DS.security_key   left join Dim_Country DC on DS.country_of_domicile = DC.country_code   group by DC.country_code, DC.country_name) select BW.country_code, BW.country_name, PW.portfolio_weight, BW.benchmark_weight from Benchmark_Weight BW left join Portfolio_Weight PW on BW.country_code = PW.country_code order by country_code;

create or replace view CUTTER_DW.DW.EXPOSURE_BY_SECTOR(  SECTOR,  PORTFOLIO_WEIGHT,  BENCHMARK_WEIGHT) as with AUM as ( select sum(FH.market_value_base_ccy) as AUM   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key), Portfolio_Weight as ( select DS.GICS_Sector_Level1 as Sector, sum(FH.market_value_base_ccy AUM.AUM*100) as Portfolio_Weight   from Fact_Holding FH   join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key   join Dim_Security DS on FH.security_key = DS.security_key   cross join AUM   group by DS.GICS_Sector_Level1), Benchmark_Weight as ( select DS.GICS_Sector_Level1 as Sector, sum(F.Weight) as Benchmark_Weight   from Fact_Benchmark_Constituent F   join Dim_Benchmark DB on F.benchmark_key = DB.benchmark_key   join Dim_Portfolio DP on DB.benchmark_code = DP.benchmark_code   join Dim_Security DS on F.security_key = DS.security_key   group by DS.GICS_Sector_Level1) select BW.Sector, PW.Portfolio_Weight, BW.Benchmark_Weight from Benchmark_Weight BW left join Portfolio_Weight PW on BW.Sector = PW.Sector order by BW.Sector;

create or replace view CUTTER_DW.DW.FUND_LOOKTHROUGH(  DATE_KEY,  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  SECURITY_NAME,  TICKER,  ISIN,  CURRENCY_CODE,  COUNTRY_OF_DOMICILE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  ASSET_CLASS_LEVEL1,  ASSET_CLASS_LEVEL2,  ASSET_CLASS_LEVEL3,  ISSUER_ID,  ISSUER_NAME,  QUANTITY,  PRICE,  MARKET_VALUE,  PORTFOLIO_VALUE,  LOOKTHROUGH,  LOOKTHROUGH_PORTFOLIO) as with Held_Securities as  ( select FH.date_key, DP.portfolio_code, DP.portfolio_legal_name,      DS.security_name, DS.security_type, DS.portfolio_code as lookthrough_portfolio_code,     DS.ticker, DS.ISIN, DS.currency_code, DS.country_of_domicile,     DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,     DS.ASSET_CLASS_LEVEL1, DS.ASSET_CLASS_LEVEL2, DS.ASSET_CLASS_LEVEL3,         DI.ISSUER_ID, DI.ISSUER_NAME,     FH.Quantity, FH.price_base_ccy as Price,      FH.market_value_base_ccy as Market_Value,     CALC.total_mk_value as portfolio_value,     'N' as lookthrough,      '' as LOOKTHROUGH_PORTFOLIO   from FACT_HOLDING FH   join DIM_PORTFOLIO DP on FH.portfolio_key = DP.portfolio_key   join DIM_SECURITY DS on FH.security_key = DS.security_key   join DIM_ISSUER DI on DS.issuer_key = DI.issuer_key   join (select date_key, portfolio_code, sum(MARKET_VALUE) as total_mk_value           from holdings_view         group by date_key, portfolio_code) AS CALC     ON  FH.DATE_KEY = CALC.date_key     AND  DP.portfolio_code = CALC.portfolio_code), Held_ETF as ( select lookthrough_portfolio_code, Quantity, Price, Market_Value   from Held_Securities    where security_type = 'Portfolio'), ETF_AUM as ( select sum(FH.market_value_base_ccy) as AUM   from FACT_HOLDING FH   join DIM_PORTFOLIO DP on FH.portfolio_key = DP.portfolio_key   join Held_ETF HE on DP.portfolio_code = HE.lookthrough_portfolio_code), ETF_Constituents as ( select FH.date_key, DP.portfolio_code, DP.portfolio_legal_name, DS.security_name,      DS.ticker, DS.ISIN, DS.currency_code, DS.country_of_domicile,     DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,     DS.ASSET_CLASS_LEVEL1, DS.ASSET_CLASS_LEVEL2, DS.ASSET_CLASS_LEVEL3,     DI.ISSUER_ID, DI.ISSUER_NAME,     (FH.market_value_base_ccy ETF_AUM.AUM * HE.Market_Value)   FH.price_base_ccy as Quantity,     FH.price_base_ccy as Price,        FH.market_value_base_ccy ETF_AUM.AUM * HE.Market_Value as Market_Value,      CALC.total_mk_value as portfolio_value,     'Y' as lookthrough,     DP.portfolio_code as LOOKTHROUGH_PORTFOLIO   from FACT_HOLDING FH   join DIM_PORTFOLIO DP on FH.portfolio_key = DP.portfolio_key   join DIM_SECURITY DS on FH.security_key = DS.security_key   join DIM_ISSUER DI on DS.issuer_key = DI.issuer_key     join Held_ETF HE on DP.portfolio_code = HE.lookthrough_portfolio_code   join (select date_key, portfolio_code, sum(MARKET_VALUE) as total_mk_value           from holdings_view         group by date_key, portfolio_code) AS CALC     ON  FH.DATE_KEY = CALC.date_key     AND  DP.portfolio_code = CALC.portfolio_code    cross join ETF_AUM) select date_key,portfolio_code, portfolio_legal_name, security_name,    ticker, ISIN, currency_code, country_of_domicile,   gics_sector_level1, gics_sector_level2, gics_sector_level3, gics_sector_level4,   ASSET_CLASS_LEVEL1, ASSET_CLASS_LEVEL2, ASSET_CLASS_LEVEL3,   ISSUER_ID, ISSUER_NAME,   Quantity, Price, Market_Value,    portfolio_value,   lookthrough, lookthrough_portfolio from Held_Securities where security_type = 'Security' union select * from ETF_Constituents order by portfolio_code desc;

create or replace view CUTTER_DW.DW.HOLDINGS_VIEW(  DATE_KEY,  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  SECURITY_NAME,  SECURITY_TYPE,  TICKER,  ISIN,  CURRENCY_CODE,  COUNTRY_OF_DOMICILE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  ASSET_CLASS_LEVEL1,  ASSET_CLASS_LEVEL2,  ASSET_CLASS_LEVEL3,  QUANTITY,  PRICE,  MARKET_VALUE) as select      FH.date_key,     DP.Portfolio_Code, DP.Portfolio_Legal_Name,      DS.security_name, DS.SECURITY_TYPE, DS.Ticker, DS.ISIN, DS.currency_code, DS. country_of_domicile,      DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4,     DS.ASSET_CLASS_LEVEL1, DS.ASSET_CLASS_LEVEL2, DS.ASSET_CLASS_LEVEL3,     FH.Quantity, FH.price_base_ccy as Price, FH.market_value_base_ccy as Market_Value from Fact_Holding FH join Dim_Portfolio DP on FH.portfolio_key = DP.portfolio_key join Dim_Security DS on FH.security_key = DS.security_key order by DP.portfolio_code desc, DS.security_name;

create or replace view CUTTER_DW.DW.PERFORMANCE_ATTRIBUTION_BY_COUNTRY(  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  PERFORMANCE_RETURN_PERIOD_NAME,  ATTRIBUTION_METHOD_DESCRIPTION,  COUNTRY_NAME,  PORTFOLIO_WEIGHT,  PORTFOLIO_CONTRIBUTION,  BENCHMARK_WEIGHT,  BENCHMARK_CONTRIBUTION,  RELATIVE_WEIGHT,  DURATION_EFFECT,  YIELD_CURVE_EFFECT,  ALLOCATION_EFFECT,  SELECTION_EFFECT,  FX_EFFECT,  TOTAL_EFFECT) as select DP.portfolio_code, DP.portfolio_legal_name, RP.performance_return_period_name,    AM.attribution_method_description, DC.country_name,    F.portfolio_weight, F.portfolio_contribution, F.benchmark_weight, F.benchmark_contribution,   (F.portfolio_weight-F.benchmark_weight) as relative_weight,   F.duration_effect, F.yield_curve_effect, F.allocation_effect, F.selection_effect, F.fx_effect, F.total_effect from FACT_PERFORMANCE_ATTRIBUTION F join DIM_PORTFOLIO DP on F.portfolio_key = DP.portfolio_key join DIM_PERFORMANCE_RETURN_PERIOD RP on F.performance_return_period_key = RP.performance_return_period_key join DIM_ATTRIBUTION_METHOD AM on F.attribution_method_key = AM.attribution_method_key join DIM_COUNTRY DC on F.attribution_factor_key = DC.country_key order by portfolio_weight;

create or replace view CUTTER_DW.DW.PERFORMANCE_RETURN(  DATE_KEY,  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  PERFORMANCE_RETURN_TYPE_NAME,  PERFORMANCE_RETURN_TYPE_DESCRIPTION,  PERFORMANCE_ENTITY_TYPE,  RETURN_1M,  RETURN_3M,  RETURN_6M,  RETURN_YTD,  RETURN_1Y,  RETURN_3Y,  RETURN_5Y,  RETURN_10Y,  RETURN_SI) as select F.date_key, DP.portfolio_code, DP.portfolio_legal_name,    RT.performance_return_type_name, RT.performance_return_type_description,   F.performance_entity_type, F.return_1m, F.return_3m, F.return_6m, F.return_ytd,    F.return_1y, F.return_3y, F.return_5y, F.return_10y, F.return_si from FACT_PERFORMANCE_RETURN F join DIM_PORTFOLIO DP on F.portfolio_key = DP.portfolio_key join DIM_PERFORMANCE_RETURN_TYPE RT on F.performance_return_type_key = RT.performance_return_type_key;

create or replace view CUTTER_DW.DW.PORTFOLIO_ANALYTICS(  PORTFOLIO_CODE,  PORTFOLIO_LEGAL_NAME,  PORTFOLIO_GROUP,  INCEPTION_DATE,  BASE_CURRENCY,  BENCHMARK_CODE,  BENCHMARK_NAME,  PORTFOLIO_STATUS,  PORTFOLIO_TYPE,  NUMBER_OF_HOLDINGS,  NUMBER_OF_ISSUERS,  MARKET_CAP,  PRICE_TO_EARNING_RATIO_TTM,  WEIGHTED_AVERAGE_COUPON,  WEIGHTED_AVERAGE_CREDIT_QUALITY,  CURRENT_YIELD,  SPREAD_DURATION,  EFFECTIVE_MATURITY,  MODIFIED_DURATION,  DURATION_TIMES_SPREAD,  STANDARD_DEVIATION_1Y,  SHARPE_RATIO_1Y,  LATEST_FLAG) as select DP.portfolio_code, DP.portfolio_legal_name, DP.portfolio_group, DP.inception_date,    DP.base_currency, DP.benchmark_code, DB.BENCHMARK_NAME,   DP.portfolio_status, DP.portfolio_type,    F.number_of_holdings, F.number_of_issuers, F.market_cap,    F.price_to_earning_ratio_ttm,   F.weighted_average_coupon, F.weighted_average_credit_quality,   F.current_yield, F.spread_duration, F.effective_maturity, F.modified_duration,   F.duration_times_spread, F.standard_deviation_1y, F.sharpe_ratio_1y,   DP.LATEST_FLAG from DIM_PORTFOLIO DP  left join FACT_PORTFOLIO_ANALYTIC F on DP.portfolio_key = F.portfolio_key left join DIM_BENCHMARK DB on DP.benchmark_code = DB.benchmark_code where DP.LATEST_FLAG = 'TRUE';

create or replace view CUTTER_DW.DW.SECURITY_ANALYTIC(  SECURITY_NAME,  COUNTRY_OF_DOMICILE,  CURRENCY_CODE,  GICS_SECTOR_LEVEL1,  GICS_SECTOR_LEVEL2,  GICS_SECTOR_LEVEL3,  GICS_SECTOR_LEVEL4,  MATURITY_DATE,  YIELD_TO_MATURITY,  YIELD_TO_WORST,  MODIFIED_DURATION,  SPREAD_DURATION,  OPTION_ADJUSTED_DURATION,  SPREAD,  DURATION_TIMES_SPREAD,  COUPON,  WEIGHTED_AVERAGE_LIFE,  MATURITY_BUCKET) as select DS.security_name, DS.country_of_domicile, DS.currency_code,    DS.gics_sector_level1, DS.gics_sector_level2, DS.gics_sector_level3, DS.gics_sector_level4, DS.maturity_date,   F.yield_to_maturity, F.yield_to_worst, F.modified_duration, F.spread_duration,   F.option_adjusted_duration, F.spread, F.duration_times_spread, F.coupon, F.weighted_average_life, F.maturity_bucket from FACT_SECURITY_ANALYTIC F join DIM_SECURITY DS on F.security_key = DS.security_key where F.date_key = 20230930 order by security_name;

COMMENT ON TABLE CUTTER_DW.DW.DIM_ACCOUNT IS 'Contains the client accounts. A client can have multiple accounts. An account can belong to multiple clients (Ref: CAPE Data POV Deck 4x3 slide 19).';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ACCOUNT.ACCOUNT_KEY IS 'Unique identifier for an account in Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ACCOUNT.ACCOUNT_NUMBER IS 'The account number in the CRM system e.g. Salesforce';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ACCOUNT.ACCOUNT_NAME IS 'The name of the client account from the CRM system e.g. Salesforce';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ACCOUNT.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ACCOUNT.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ACCOUNT.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this broker, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD IS 'This dimension contains the methodology/approach used in calculating performance attribution, i.e. how much contribution each country/currency/sector. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD.ATTRIBUTION_METHOD_KEY IS 'The unique identifier for attribution method in the Showflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD.ATTRIBUTION_METHOD_NAME IS 'By what factor the performance return is allocated e.g. by country, by currency, or by sector e.g. by country (excluding Japan), by currency, by fixed income sector, by GICS sector';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD.ATTRIBUTION_METHOD_DESCRIPTION IS 'Full description of the Attribution Method Name field, explaining any exceptions in the calculation, which yield curve is used, what duration is used (spread/modified/effective), carry/FX rate impact, etc.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ATTRIBUTION_METHOD.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this attribution method, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_BENCHMARK IS 'Contains benchmark code and name.\nSCD type: type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BENCHMARK.BENCHMARK_KEY IS 'Unique identifier for a benchmark in Snowflake data warehouse (integer, primary key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BENCHMARK.BENCHMARK_CODE IS 'The benchmark code from Rimes or MSCI';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BENCHMARK.BENCHMARK_NAME IS 'The benchmark name from Rimes or MSCI';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BENCHMARK.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BENCHMARK.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BENCHMARK.IS_CURRENT IS 'For slowly changing dimension type 2: 1 if the row the the current/latest row for this portfolio, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_BROKER IS 'Contains the brokers involved in the purchase or sale of securities/holdings. This dimension is used in the transaction fact table. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BROKER.BROKER_KEY IS 'Unique identifier for a broker in the Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BROKER.BROKER_CODE IS 'Unique identifier for a broker from the source system';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BROKER.BROKER_NAME IS 'Name of the brokerage firm';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BROKER.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BROKER.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_BROKER.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this broker, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_CLIENT IS 'Contains clients and prospects, which can be a firm, an office, or a financial advisor (or advisory team). A client can have no account, no product, no portfolio (i.e. still a prospect). A client can have multiple accounts. An account can belong to multiple clients (Ref: CAPE Data POV Deck 4x3 slide 19).';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.CLIENT_KEY IS 'Unique identifier for a client in Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.CLIENT_NAME IS 'The company name of the client office/firm/advisor';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.CLIENT_DESCRIPTION IS 'Describe the client e.g. a group of financial advisors who collectively service an investor, or a company that offers investment services through financial advisors';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.STREET_ADDRESS IS 'Location of the client''s office';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.CITY IS 'Location of the client''s office';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.STATE IS 'Location of the client''s office';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.ZIP_CODE IS 'Location of the client''s office';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.TELEPHONE_NUMBER IS 'The company telephone number';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.CONTACT_NAME IS 'Name of the contact person';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CLIENT.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this broker, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_COUNTRY IS 'Contains 249 countries from ISO 3166. Also contains region i.e. Asia Pacific, EMEA, North/South America. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.COUNTRY_KEY IS 'Unique identifier for a country in the Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.COUNTRY_CODE IS '2 character country code from ISO 3166 e.g. FR for France';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.COUNTRY_NAME IS 'ISO 3166 country name (not the formal/UN country name) e.g. China, not The People''s Republic of China';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.REGION IS 'APAC (Asia-Pacific), EMEA (Europe, the Middle East and Africa), NA (North America), LATAM (Latin America)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_COUNTRY.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this country, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_CURRENCY IS 'Contains 300 currencies from ISO 4217. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CURRENCY.CURRENCY_KEY IS 'Unique identifier for a currency in the Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CURRENCY.CURRENCY_CODE IS '3 character currency codes from ISO 4217 e.g. CHF, AUD';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CURRENCY.CURRENCY_NAME IS 'Name of the currency from ISO 4217, e.g. Swiss Frank, Australian Dollar';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CURRENCY.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CURRENCY.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CURRENCY.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this currency, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR IS 'Contains custom attribution factors (instead of the standard country/currency/sector), up to 4 levels. For example: GICS sector as level 1 and country as level 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.ATTRIBUTION_FACTOR_KEY IS 'The unique identifier for the attribution factor dimension (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.ATTRIBUTION_FACTOR_LEVEL1 IS 'The highest level of attribution factor hierarchy';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.ATTRIBUTION_FACTOR_LEVEL2 IS 'The second highest level of attribution factor hierarchy';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.ATTRIBUTION_FACTOR_LEVEL3 IS 'The third highest level of attribution factor hierarchy';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.ATTRIBUTION_FACTOR_LEVEL4 IS 'The lowest level of attribution factor hierarchy';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_CUSTOM_ATTRIBUTION_FACTOR.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this sector, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_DATE IS 'Contains all the dates from the last 50 years to the next 50 years, with their attributes. This dimension is a Slowly Changing Dimension type 0 (static)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.DATE_KEY IS 'e.g. 20230710 (YYYYMMDD)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.DATE IS 'e.g. 2023-07-10 (YYYY-MM-DD)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.DAY IS 'e.g. 1, 3, 29, 31';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.WEEKDAY_NAME IS 'e.g. Monday, Tuesday, etc.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.WEEK_NUMBER IS 'How many weeks since January 1st, from 1 to 53';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.MONTH_NUMBER IS 'e.g. 1, 3, 9, 12';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.MONTH_NAME IS 'e.g. January, March';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.QUARTER IS 'e.g. Q1, Q2, Q3, Q4';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.YEAR IS 'e.g. 2023';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.WEEKDAY_FLAG IS '1 for Monday to Friday, 0 otherwise';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.MONTH_END_FLAG IS '1 for month end, 0 otherwise';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_DATE.QUARTER_END_FLAG IS '1 for quarter end, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_ISSUER IS 'Contains the issuers of security. An issuer can be a company, a sovereign (country level government), a local authority (district/city/state level government), or a government agency (e.g. Fannie Mae). This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ISSUER_KEY IS 'Unique identifier for an issuer in Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ISSUER_ID IS '12 characters Bloomberg issuer ID (Mnemonic: ID_BB_COMPANY). Or sourced from Factset (Symbology field name: SYM.ENTITY_ID)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ISSUER_NAME IS 'The formal issuer name from Bloomberg e.g. Pepsi Co Inc (no comma or period), Hershey Co/The (the at the end). Or from Factset (Symbology field name: SYM.ENTITY_NAME). Dun and Bradstreet does not cover all issuers (it only covers companies).';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ISSUER_LEI IS 'Legal Entity Identifer covering 1.4 million legal entities in more than 200 countries, including public sector and government bodies.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.FACTSET_ENTITY_ID IS 'Unique issuer identifier in Factset. Symbology field name: SYM.ENTITY_ID.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.HEADQUARTERS_STREET_ADDRESS IS 'Location of the corporate headquaters for this company/agency/government body';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.HEADQUARTERS_CITY IS 'Location of the corporate headquaters for this company/agency/government body';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.HEADQUARTERS_STATE IS 'Location of the corporate headquaters for this company/agency/government body';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.HEADQUARTERS_ZIP_CODE IS 'Location of the corporate headquaters for this company/agency/government body';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.HEADQUARTERS_COUNTRY_CODE IS 'Location of the corporate headquaters for this company/agency/government body';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.PARENT_ISSUER_ID IS 'The parent of this issuer in Bloomberg issuer hierarchy (or from Factset)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.PARENT_ISSUER_NAME IS 'The parent of this issuer in Bloomberg issuer hierarchy (or from Factset)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ULTIMATE_PARENT_ISSUER_ID IS 'The top level parent of this issuer in Bloomberg issuer hierarchy (or from Factset)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ULTIMATE_PARENT_ISSUER_NAME IS 'The top level parent of this issuer in Bloomberg issuer hierarchy (or from Factset)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.COUNTRY_OF_RISK IS '2 characters country code (ISO 3166) where the business is operating and the revenues are generated';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.COUNTRY_OF_DOMICILE IS '2 characters country code (ISO 3166) where the business is registered for paying taxes, it''s usually where the headquarter is located.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.COUNTRY_OF_INCORPORATION IS '2 characters country code (ISO 3166) where the business is registered legally, i.e. which state/country law governs this company/entity';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.GICS_SECTOR_LEVEL1 IS 'The sector name (level 1) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care, Financials, Information Technology, Communication, Industrial';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.GICS_SECTOR_LEVEL2 IS 'The sector name (level 2) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care Equipment & Services, Banks, Software & Services, Capital Goods';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.GICS_SECTOR_LEVEL3 IS 'The sector name (level 3) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care Providers & Services, Capital Markets, IT Services, Machinery';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.GICS_SECTOR_LEVEL4 IS 'The sector name (level 4) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care Facilities, Asset Management & Custody Banks, Internet Services & Infrastructure, Research & Consulting Services';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ICE_SECTOR_LEVEL1 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 1 (asset class) e.g. Sovereign, Corporate, Securitized/Collateralized, Preferred Securities, Municipal';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ICE_SECTOR_LEVEL2 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 2 (group) e.g. Sovereign, Financial, Industrials, Securitized, Revenue';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ICE_SECTOR_LEVEL3 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 3 (category) e.g. Sovereign, Financial Services, Automotive, Agency, Local-Authority, Supranational, Asset Backed, Revenue - Airport, Pfd-Basic Industry';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.ICE_SECTOR_LEVEL4 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 4 (sub category) e.g. Sovereign, Investments & Misc Financial Services, Beverage, ABS Home Equity Loans, Revenue - Health';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_ISSUER.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this security, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD IS 'Contains the performance return periods such as 1M, 3M, 6M, 1Y, 3Y, etc.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD.PERFORMANCE_RETURN_PERIOD_KEY IS 'The unique identifier for performance return period in the Showflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD.PERFORMANCE_RETURN_PERIOD_CODE IS 'The period codes such as 1M, 3M, 1Y, 3Y, YTD and SI.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD.PERFORMANCE_RETURN_PERIOD_NAME IS 'The period names e.g. 1 month, 3 months, 1 year, 3 year, Year To Date and Since Inception';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_PERIOD.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this attribution method, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE IS 'Contains the performance return type/flavor i.e. whether the performance returns are calculated before the fees are deducted (gross) or after the fees are deducted (net), cumulative or annualized, arithmetic or geometric (compound growth), or custom method such as using mid-day prices (instead of closing prices), or using accrual approach. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE.PERFORMANCE_RETURN_TYPE_KEY IS 'Unique identifier for a performance return type i.e. combination of gross/net, accumulative/annualised, arithmetic/geometric, etc. (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE.PERFORMANCE_RETURN_TYPE_NAME IS 'Indicates whether the performance returns are calculated before the fees are deducted (gross) or after the fees are deducted (net), cumulative or annualized, arithmetic or geometric (compound growth), or custom method such as using mid-day prices (instead of closing prices), or using accrual approach.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE.PERFORMANCE_RETURN_TYPE_DESCRIPTION IS 'The long description of the Performance Return Type Name field explaining the methodology of calculating performance return';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PERFORMANCE_RETURN_TYPE.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this performance type, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_PORTFOLIO IS 'Contains portfolio attributes. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_KEY IS 'Unique identifier for a portfolio in Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_CODE IS 'Formal portfolio code as defined by the product team';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_LEGAL_NAME IS 'The portfolio legal name as registered in SEC and FCA';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_SHORT_NAME IS 'Formal portfolio short name as defined by the product team for sales literature and internal website';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_STATUS IS 'e.g. active, closed (or not yet launched)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_TYPE IS 'e.g. fund, SMA, ETF, CIT';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.BASE_CURRENCY IS 'The base currency of the portfolio. All holdings are stored in this currency, as well as in the local/native currency.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.INCEPTION_DATE IS 'when money first flows into this portfolio and being managed there';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.BENCHMARK_CODE IS 'the benchmark for this portfolio';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.PORTFOLIO_GROUP IS 'Category based on geography and asset class, e.g. European Equities, Sustainable Fixed Income';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.LEGAL_STRUCTURE IS 'e.g. unit trust, mutual fund, UCITS';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.TAX_EXEMPT_INDICATOR IS '1 if this portfolio is tax exempt, 0 otherwise';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PORTFOLIO.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this portfolio, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_PRODUCT IS 'A product is a combination of an investment team, an investment strategy, and an investment vehicle. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.PRODUCT_KEY IS 'Unique identifier for a product in Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.PRODUCT_NAME IS 'Name of the product, e.g. Columbia Disciplined Growth Fund';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.PRODUCT_DESCRIPTION IS 'Full description of the investment product';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.PRODUCT_LEGAL_STRUCTURE IS 'e.g. Fund, UCITS, unit trust';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.PRODUCT_FEE_STRUCTURE IS 'e.g. Sales charge 5%, management fees 0.75%, distribution fees 0.25%';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.PRODUCT_REGULATOR IS 'Government body who regulates this product, e.g. SEC, FCA.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.INVESTMENT_TEAM IS 'The group of individuals who manage assets on behalf of investors';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.INVESTMENT_STRATEGY IS 'A set of rules, behaviors, or procedures to guide investment decisions';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.INVESTMENT_VEHICLE IS 'Legal structure used to invest money on behalf of investors';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_PRODUCT.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this product, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_SECTOR IS 'Contains GICS and ICE (was Merrill Lynch) sectors e.g. Industrial, Financial, Government.\nICE contains fixed income sector e.g. Sovereign, Local Authority, ABS (also contains corporate sectors like Industrial, Financial). Equity portfolios commonly use GICS, whilst fixed income prefer ICE. This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_KEY IS 'Unique identifier for a sector in the Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.CLASSIFICATION_SCHEME IS 'e.g. GICS or ICE (was Merrill Lynch). Equity portfolios commonly use GICS, whilst fixed income prefer ICE.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_CODE_LEVEL1 IS 'GICS or ICE sector code for level 1 (highest level) e.g. 20';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_CODE_LEVEL2 IS 'GICS or ICE sector code for level 2 e.g. 2010';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_CODE_LEVEL3 IS 'GICS or ICE sector code for level 3 e.g. 201040';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_CODE_LEVEL4 IS 'GICS or ICE sector code for level 4 (lowest level) e.g. 20104010';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_NAME_LEVEL1 IS 'GICS or ICE Level 1 sector name e.g. Industrial';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_NAME_LEVEL2 IS 'GICS or ICE Level 2 sector name e.g. Capital Goods';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_NAME_LEVEL3 IS 'GICS or ICE Level 3 sector name e.g. Electrical Equipment';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.SECTOR_NAME_LEVEL4 IS 'GICS or ICE Level 4 sector name e.g. Electrical Components & Equipment';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECTOR.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this sector, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.DIM_SECURITY IS 'Contains securities in the security master (mastering/MDM/RDM is done outside the warehouse). This dimension is a Slowly Changing Dimension type 2.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.SECURITY_KEY IS 'Unique identifier for a security/instrument in Snowflake data warehouse (integer, primary key, surrogate key)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.SECURITY_NAME IS 'Bloomberg name, not Factset, i.e. Tesla Inc (without period)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.SECURITY_TYPE IS 'Whether the row contains a security or a portfolio. This is used for fund lookthrough, where the Security_Type is set to Portfolio.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.PORTFOLIO_CODE IS 'For rows with security_type = Portfolio, this column contains the portfolio code. For rows with security_type = Security, this column is blank.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ISIN IS 'International Securities Identification Number (12 characters, ISO 6166) e.g. US88160R1014 for Tesla Inc. equity';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.SEDOL IS 'Stock Exchange Daily Official List (7 characters) e.g. A1CX3T for Tesla';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.CUSIP IS 'Committee on Uniform Securities Identification Procedures (9 characters) e.g. 88160R101 for Tesla Inc shares';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.TICKER IS 'Bloomberg Ticker, e.g. TSLA for Tesla Inc. equity';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.BLOOMBERG_ID IS 'Financial Instrument Global Identifier (FIGI) in Bloomberg (ID_BB_GLOBAL)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.FACTSET_ID IS 'The unique security identifier in Factset Symbology';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ISSUER_KEY IS 'The issuer of this security/instrument. It can be a company, sovereign government, government agency or local authority. Foreign key to the issuer dimension. Reason for snowflaking: issuer is an attribute of security so issuer should not be directly attached to fact_holding or fact_benchmark_constituent. This is the only snowflaking in Cutter Snowflake data warehouse (everything else is star schema).';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ASSET_CLASS_LEVEL1 IS 'e.g. equity, fixed income, cash equivalent';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ASSET_CLASS_LEVEL2 IS 'e.g. Ordinary Share, CDS, Option';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ASSET_CLASS_LEVEL3 IS 'e.g. CDS Single Name, CDS Index, Call Option, Put Option, Bond Future';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.CURRENCY_CODE IS '3 character currency code (ISO 4217) e.g. USD, GBP, EUR, AUD, JPY';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.COUNTRY_OF_RISK IS '2 characters country code (ISO 3166) where the business is operating and the revenues are generated';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.COUNTRY_OF_DOMICILE IS '2 characters country code (ISO 3166) where the business is registered for paying taxes, it''s usually where the headquarter is located.';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.GICS_SECTOR_LEVEL1 IS 'The sector name (level 1) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care, Financials, Information Technology, Communication, Industrial';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.GICS_SECTOR_LEVEL2 IS 'The sector name (level 2) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care Equipment & Services, Banks, Software & Services, Capital Goods';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.GICS_SECTOR_LEVEL3 IS 'The sector name (level 3) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care Providers & Services, Capital Markets, IT Services, Machinery';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.GICS_SECTOR_LEVEL4 IS 'The sector name (level 4) from MSCI''s Global Industrial Classification Scheme, e.g. Health Care Facilities, Asset Management & Custody Banks, Internet Services & Infrastructure, Research & Consulting Services';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ICE_SECTOR_LEVEL1 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 1 (asset class) e.g. Sovereign, Corporate, Securitized/Collateralized, Preferred Securities, Municipal';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ICE_SECTOR_LEVEL2 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 2 (group) e.g. Sovereign, Financial, Industrials, Securitized, Revenue';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ICE_SECTOR_LEVEL3 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 3 (category) e.g. Sovereign, Financial Services, Automotive, Agency, Local-Authority, Supranational, Asset Backed, Revenue - Airport, Pfd-Basic Industry';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.ICE_SECTOR_LEVEL4 IS 'ICE''s (was Merrill Lynch''s) fixed income sector classification Level 4 (sub category) e.g. Sovereign, Investments & Misc Financial Services, Beverage, ABS Home Equity Loans, Revenue - Health';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.SANDP_RATING_LONG_TERM IS 'S&P credit rating for long term debt (>1 year), e.g. AAA, AA, A, BBB, BB, B';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.SANDP_RATING_SHORT_TERM IS 'S&P credit rating for short term debt (< 1 year) e.g. A-1, A-2, A-3, B, C';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.MOODYS_RATING_LONG_TERM IS 'Moody''s credit rating for long term debt (> 1 year), e.g. Aaa, Aa1, Aa2, Aa3, A1, A2, A3, Baa1';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.MOODYS_RATING_SHORT_TERM IS 'Moody''s credit rating for long term debt (< 1 year), e.g. P-1, P-2, P-3, NP';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.FITCH_RATING_LONG_TERM IS 'Fitch credit rating for long term debt (> 1 year) e.g. AAA, AA, A, BBB, BB, B, CCC';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.FITCH_RATING_SHORT_TERM IS 'Fitch credit rating for short term debt (< 1 year) e.g. F1, F2, F3, B, C, D, RD, D';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.MATURITY_DATE IS 'When the principal of a security is become payable';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.VALID_FROM IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.VALID_TO IS 'For slowly changing dimension type 2 (date range when the row is valid)';

COMMENT ON COLUMN CUTTER_DW.DW.DIM_SECURITY.LATEST_FLAG IS 'For slowly changing dimension type 2: 1 if the row the the latest row for this security, 0 otherwise';

COMMENT ON TABLE CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT IS 'Contains the securities within a benchmark/index, every day.\nGrain: date, benchmark, security (for each datetime_inserted).\nFact table type: periodic snapshot';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT.DATE_KEY IS 'When this benchmark weight was defined. Integer representation in YYYYMMDD e.g. 20230929 (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT.BENCHMARK_KEY IS 'The benchmark containing the constituents (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT.SECURITY_KEY IS 'The instrument/security held for this benchmark constituent (foreign key to the security dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT.WEIGHT IS 'The weight of this constituent in this benchmark for this date';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_BENCHMARK_CONSTITUENT.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP IS 'Contains the relationship between accounts, clients, a products and portfolios. A client can have multiple accounts. An account can belong to multiple clients (Ref: CAPE Data POV Deck 4x3 slide 19). A client can have no account, no product, no portfolio (i.e. still a prospect).\nGrain: client, account, portfolio, product (for each datetime_inserted).\nFact table type: transaction fact table.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.CLIENT_KEY IS 'Foreign key to the client dimension';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.ACCOUNT_KEY IS 'Foreign key to the account dimension (optional, 0 if this client does not have an account)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.PORTFOLIO_KEY IS 'Foreign key to the portfolio dimension (optional, 0 if this account does not have a portfolio)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.PRODUCT_KEY IS 'Foreign key to the product dimension (optional, 0 if this account does not have a product)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.DESCRIPTION IS 'Description or note/comment about the relationship between the client, account and portfolio/product';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_CLIENT_ACCOUNT_RELATIONSHIP.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_HOLDING IS 'Contains all the positions held in each portfolio, every day.\nGrain: date, portfolio, security (for each datetime_inserted)\nFact table type: periodic snapshot';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.DATE_KEY IS 'When this holding was valued (the date of the market price). Integer representation in YYYYMMDD e.g. 20230929 (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.PORTFOLIO_KEY IS 'The portfolio containing this holding (foreign key to the portfolio dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.SECURITY_KEY IS 'The instrument/security held for this holding(foreign key to the security dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.QUANTITY IS 'Not the quantity on individual purchase, but the total quantity we are currently holding i.e. over many purchases and sales.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.PRICE_BASE_CCY IS 'Not the price on individual purchase/sale, but total market value divided by the total quantity so it''s like the average price paid over all transactions that makes up the current holding.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.PRICE_LOCAL_CCY IS 'Not the price on individual purchase/sale, but total market value divided by the total quantity so it''s like the average price paid over all transactions that makes up the current holding.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.MARKET_VALUE_BASE_CCY IS 'The market value of this holding in the portfolio base currency.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.MARKET_VALUE_LOCAL_CCY IS 'The market value of this holding in the local currency of the security exchange.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_HOLDING.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION IS 'Contains allocation of the portfolio performance return to each country, currency or sector, from a performance attribution system such as StatPro/Point/Barra output or files from the back office providers such as NT or State Street.\nGrain: 1 row for each date, portfolio, attribution method and entity (for each datetime_inserted).\nFact table type: periodic snapshot.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.DATE_KEY IS 'When this performance attribution data is for (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.PORTFOLIO_KEY IS 'The portfolio which this performance attribution data is for (foreign key to the portfolio dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.PERFORMANCE_RETURN_PERIOD_KEY IS 'Foreign key to the performance return period dimension, which contains the performance return periods such as 1M, 3M, 6M, 1Y, 3Y, etc.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.ATTRIBUTION_METHOD_KEY IS 'Describes the methodology used in calculating the performance attribution, i.e. by what factor the performance return is allocated e.g. by country, currency, or sector including any exception such as exclude Japan (foreign key to the attribution method dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.ATTRIBUTION_FACTOR_KEY IS 'Contains the country_key, or sector_key, or currency_key (or custom factor)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.PORTFOLIO_WEIGHT IS 'The weight of this country/currency/sector in the portfolio';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.PORTFOLIO_CONTRIBUTION IS 'How much this country/currency/sector contributes to the portfolio performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.BENCHMARK_WEIGHT IS 'The weight of this country/currency/sector in the benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.BENCHMARK_CONTRIBUTION IS 'How much this country/currency/sector contributes to benchmark performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.DURATION_EFFECT IS 'How much the duration contributes to the portfolio performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.YIELD_CURVE_EFFECT IS 'How much the yield curve contributes to the portfolio performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.ALLOCATION_EFFECT IS 'How much the country/currency/sector allocation contributes to the portfolio performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.SELECTION_EFFECT IS 'How much the security selection contributes to the portfolio performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.FX_EFFECT IS 'How much the FX rates fluctuation (aka \"carry\") contributes to the portfolio performance return';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.TOTAL_EFFECT IS 'Total contribution from all factors including the \"interaction factor\" (interactions between different factors)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_PERFORMANCE_RETURN IS 'Contains the portfolio level performance return data, for all periods and flavours.\nGrain: 1 row per portfolio, reporting date, performance type, performance entity type.\nFact table type: periodic snapshot.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.DATE_KEY IS 'The as of date key when these performance return data is valid for';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.PORTFOLIO_KEY IS 'The portfolio for which these performance data is for (the foreign key to the portfolio dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.PERFORMANCE_RETURN_TYPE_KEY IS 'The type or \"flavour\" of the top level performance return i.e. gross or net, cumulative or annualized, arithmetic or geometric, etc. (foreign key to the performance type dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.PERFORMANCE_ENTITY_TYPE IS 'Indicates whether this row contains the portfolio return or the benchmark return (value: P or B). Or R for relative return (difference between portfolio and benchmark)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_1M IS '1 month performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_3M IS '3 months performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_6M IS '6 months performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_YTD IS 'Year to date performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_1Y IS '1 year performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_3Y IS '3 years performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_5Y IS '5 years performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_10Y IS '10 years performance return of the portfolio or benchmark';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.RETURN_SI IS 'Performance return of the portfolio since inception (not applicable for benchmark)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PERFORMANCE_RETURN.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC IS 'Contains fixed income, equity and risk analytics at portfolio level (daily), e.g. P/E, P/B, Yield, Market Cap, Weighted Average Maturity/Duration/Yield/DTS/Rating, Sharpe Ratio, TE, SD, Alpha, Beta, #holdings, #issuers.\nGrain: 1 row for each date and portfolio (for each datetime_inserted)\nFact table type: periodic snapshot.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.DATE_KEY IS 'The date when these portfolio-level analytics are calculated (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.PORTFOLIO_KEY IS 'The portfolio for which these analytics are calculated for (foreign key to the portfolio dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.NUMBER_OF_HOLDINGS IS 'Number of holdings in the portfolio for that date, including cash equivalent positions and derivatives';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.NUMBER_OF_ISSUERS IS 'Number of distinct issuers in the portfolio for that date';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.MARKET_CAP IS 'Weighted avarage of the holding''s market capitalization';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.PRICE_TO_EARNING_RATIO_TTM IS 'The weighted average of the Price-to-Earning Ratio of all the holdings in the portfolio (Trailing 12 months)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.PRICE_TO_BOOK_RATIO_TTM IS 'Weighted average of the Price-to-book ratio of all the holdings in this portfolio (trailing 12 months)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.WEIGHTED_AVERAGE_COUPON IS 'Weighted average of the coupon value (for fixed income portfolio) of all the fixed income holdings in the portfolio';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.WEIGHTED_AVERAGE_CREDIT_QUALITY IS 'The weighted average of credit rating, e.g. AA (convert to numeric, take the weighted average based on MV, then convert back to letters). Which rating (S&P, Moody''s, Fitch) is to be defined.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.CURRENT_YIELD IS 'Weighted average of the current yield of all the fixed income holdings in the portfolio';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.SPREAD_DURATION IS 'Weighted average of the spread duration for all the fixed income holdings in the portfolio';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.EFFECTIVE_MATURITY IS 'Weighted average (by market value) of the effective maturity for all the fixed income holdings in the portfolio (in years)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.MODIFIED_DURATION IS 'Weighted average (by market value) of the spread duration for all the fixed income holdings in the portfolio (in years)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.DURATION_TIMES_SPREAD IS 'Weighted average of the Duration Times Spread (DTS) for all the fixed income holdings in the portfolio';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.STANDARD_DEVIATION_1Y IS 'variability of returns for the last 1 year';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.SHARPE_RATIO_1Y IS '1 year portfolio return minus risk free rate, divided by the standard deviation';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_ANALYTIC.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION IS 'Contains the portfolio''s Net Asset Value (daily)\nGrain: 1 row for each date and portfolio (for each datetime_inserted).\nFact table type: periodic snapshot.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION.DATE_TIME IS 'When the NAV is calculated for this portfolio (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION.PORTFOLIO_KEY IS 'The portfolio for which this NAV is for (foreign key to the portfolio dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION.NAV IS 'Net Asset Value of the portfolio, for that date';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PORTFOLIO_VALUATION.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP IS 'A factless fact table linking the portfolio dimension and the product dimension.\nA product can be linked to one or more portfolios. A portfolio can only be linked to one product.\nGrain: 1 row for each product-portfolio combination (for each datetime_inserted).\nFact table type: transaction fact table';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP.PRODUCT_KEY IS 'Foreign key to the product dimension';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP.PORTFOLIO_KEY IS 'Foreign key to the portfolio dimension';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_PRODUCT_PORTFOLIO_RELATIONSHIP.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_SECURITY_ANALYTIC IS 'Contains fixed income analytics like yield, duration, spread, credit ratings, coupon, WAL, maturity bucket, IE01, PV01, CR01, etc. at security level. In the future \"equity analytics\" such as market cap and number of outstanding shares can be added. Hence the name is fact_security_analytics, not fact_fixed_income_analytics.\nGrain: 1 row for each date and security (for each datetime_inserted)\nFact table type: periodic snapshot.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.DATE_KEY IS 'When this security analytic was calculated. Integer representation in YYYYMMDD e.g. 20230929 (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.SECURITY_KEY IS 'the security/instrument for which these fixed income analytics are for (on that date)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.YIELD_TO_MATURITY IS 'The return earned by a bond when it makes all interest payments and repays the original principal';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.YIELD_TO_WORST IS 'The lowest possible yield that can be received on a bond that fully operates within the terms of its contract without defaulting. It''s to reflect the risk that the issuer can close the bond before maturity.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.MODIFIED_DURATION IS 'Price sensitivity to changes in interest rates';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.SPREAD_DURATION IS 'Price sensitivity to credit spread changes (credit spread is the difference between the yield of a security and the yield of a government bond)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.OPTION_ADJUSTED_DURATION IS 'Price sensitivity to changes in interest rates, for bonds that have embedded options. Also known as Effective Duration.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.SPREAD IS 'Difference between the yield of a bond and the yield of the treasury (the risk-free rate)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.DURATION_TIMES_SPREAD IS 'The spread duration x the credit spread. It measures the credit volatility of a corporate bond.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.COUPON IS 'Interest payment on a bond or fixed income securities';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.WEIGHTED_AVERAGE_LIFE IS 'Average length of time that each dollar of unpaid principal on an amortizing bond remains outstanding';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.MATURITY_BUCKET IS 'Time range (in years) when the bond will mature, i.e. 1-3 years, 3-5 years, etc.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_SECURITY_ANALYTIC.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';

COMMENT ON TABLE CUTTER_DW.DW.FACT_TRANSACTION IS 'Contains the purchase and sale activity within the portfolio, as well as cash transaction such as dividend distribution.\nGrain: 1 row for each transaction (purchase, sale or cash) and datetime_inserted.\nFact table type: transaction fact table';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.TRANSACTION_KEY IS 'Unique identifier of a trade/transaction from ThinkFolio/CRD/BBG AIM.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.TRADE_DATE_KEY IS 'When the purchase, sale or dividend happens (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.SETTLEMENT_DATE_KEY IS 'When the the payment is made and the asset/security is delivered (foreign key to the date dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.SECURITY_KEY IS 'The security being purchased or sold (foreign key to the security dimension)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.BROKER_KEY IS 'The executing broker who filled the trade (and the one who settled the payment). Foreign key to the broker dimension.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.TRANSACTION_TYPE IS 'Purchase or sale (value: P or S). Or cash (C) if it''s a cash transaction such as dividend distribution.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.QUANTITY IS 'Number of shares purchased/sold (or unit of funds, bonds, etc.)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.PRICE IS 'Price of the security purchased or sold (not applicable for dividend or cash transactions)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.AMOUNT IS 'The transaction amount (qty x price for a purchase or sale). For cash transaction such as dividend it''s the dividend amount.';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.COMMISSION IS 'The commision amount that we paid to the broker for this transaction';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.DATETIME_INSERTED IS 'When this fact row was created (system column)';

COMMENT ON COLUMN CUTTER_DW.DW.FACT_TRANSACTION.LATEST_FLAG IS 'The latest fact rows have LATEST_FLAG = 1. If a correction is made to a fact row, it will be done as an insert. The old row will have LATEST_FLAG = 0, and the new row will have LATEST_FLAG = 1. The DATETIME_INSERTED column indicates when each fact row was created.';
]]></string>
		</script>
	</layout>
	<layout name="~Layout with Sample Tools" id="Layout-1779" show_column_type="y" show_relation="columns" >
		<entity schema="CUTTER_DW.DW" name="BENCHMARK_CONSTITUENTS" color="BED3F4" x="1955" y="1887" />
		<entity schema="CUTTER_DW.DW" name="DIM_ACCOUNT" color="F4DDBE" x="3604" y="680" />
		<entity schema="CUTTER_DW.DW" name="DIM_ATTRIBUTION_METHOD" color="F4DDBE" x="3145" y="425" />
		<entity schema="CUTTER_DW.DW" name="DIM_BENCHMARK" color="BEBEF4" x="2261" y="1037" />
		<entity schema="CUTTER_DW.DW" name="DIM_BROKER" color="F4DDBE" x="3604" y="51" />
		<entity schema="CUTTER_DW.DW" name="DIM_CLIENT" color="F4DDBE" x="3213" y="680" />
		<entity schema="CUTTER_DW.DW" name="DIM_COUNTRY" color="BEBEF4" x="1921" y="510" />
		<entity schema="CUTTER_DW.DW" name="DIM_CURRENCY" color="BEBEF4" x="2686" y="85" />
		<entity schema="CUTTER_DW.DW" name="DIM_CUSTOM_ATTRIBUTION_FACTOR" color="BEBEF4" x="2261" y="51" />
		<entity schema="CUTTER_DW.DW" name="DIM_DATE" color="C7F4BE" x="1241" y="51" />
		<entity schema="CUTTER_DW.DW" name="DIM_ISSUER" color="F4DDBE" x="3604" y="1037" />
		<entity schema="CUTTER_DW.DW" name="DIM_PERFORMANCE_RETURN_PERIOD" color="BEBEF4" x="1785" y="85" />
		<entity schema="CUTTER_DW.DW" name="DIM_PERFORMANCE_RETURN_TYPE" color="C7F4BE" x="1241" y="459" />
		<entity schema="CUTTER_DW.DW" name="DIM_PORTFOLIO" color="C7F4BE" x="442" y="51" />
		<entity schema="CUTTER_DW.DW" name="DIM_PRODUCT" color="F4DDBE" x="3995" y="680" />
		<entity schema="CUTTER_DW.DW" name="DIM_SECTOR" color="BEBEF4" x="1887" y="782" />
		<entity schema="CUTTER_DW.DW" name="DIM_SECURITY" color="BEBEF4" x="2686" y="340" />
		<entity schema="CUTTER_DW.DW" name="EXPOSURE_BY_COUNTRY" color="BED3F4" x="2295" y="1887" />
		<entity schema="CUTTER_DW.DW" name="EXPOSURE_BY_SECTOR" color="BED3F4" x="2669" y="1683" />
		<entity schema="CUTTER_DW.DW" name="FACT_BENCHMARK_CONSTITUENT" color="BEBEF4" x="2261" y="782" />
		<entity schema="CUTTER_DW.DW" name="FACT_CLIENT_ACCOUNT_RELATIONSHIP" color="F4DDBE" x="3604" y="408" />
		<entity schema="CUTTER_DW.DW" name="FACT_HOLDING" color="C7F4BE" x="833" y="459" />
		<entity schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_ATTRIBUTION" color="BEBEF4" x="2261" y="340" />
		<entity schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_RETURN" color="C7F4BE" x="833" y="51" />
		<entity schema="CUTTER_DW.DW" name="FACT_PORTFOLIO_ANALYTIC" color="C7F4BE" x="374" y="459" />
		<entity schema="CUTTER_DW.DW" name="FACT_PORTFOLIO_VALUATION" color="C7F4BE" x="51" y="221" />
		<entity schema="CUTTER_DW.DW" name="FACT_PRODUCT_PORTFOLIO_RELATIONSHIP" color="F4DDBE" x="3995" y="408" />
		<entity schema="CUTTER_DW.DW" name="FACT_SECURITY_ANALYTIC" color="C7F4BE" x="1241" y="782" />
		<entity schema="CUTTER_DW.DW" name="FACT_TRANSACTION" color="F4DDBE" x="3213" y="51" />
		<entity schema="CUTTER_DW.DW" name="FUND_LOOKTHROUGH" color="BED3F4" x="2295" y="2312" />
		<entity schema="CUTTER_DW.DW" name="HOLDINGS_VIEW" color="BED3F4" x="1921" y="2312" />
		<entity schema="CUTTER_DW.DW" name="MY_FIRST_DBT_MODEL" color="BED3F4" x="2295" y="2142" />
		<entity schema="CUTTER_DW.DW" name="PERFORMANCE_ATTRIBUTION_BY_COUNTRY" color="BED3F4" x="1496" y="1887" />
		<entity schema="CUTTER_DW.DW" name="PERFORMANCE_RETURN" color="BED3F4" x="1003" y="2312" />
		<entity schema="CUTTER_DW.DW" name="PORTFOLIO_ANALYTICS" color="BED3F4" x="1513" y="1343" />
		<entity schema="CUTTER_DW.DW" name="SECURITY_ANALYTIC" color="BED3F4" x="1955" y="1428" />
		<entity schema="CUTTER_DW.DW" name="WIDE_HOLDINGS" color="BED3F4" x="2669" y="1887" />
		<script name="SQL Editor" id="Editor-24c9" language="SQL" >
			<string><![CDATA[SELECT
	DATE_KEY, PORTFOLIO_KEY, PERFORMANCE_RETURN_PERIOD_KEY, ATTRIBUTION_METHOD_KEY, ATTRIBUTION_FACTOR_KEY, PORTFOLIO_WEIGHT, 
	PORTFOLIO_CONTRIBUTION, BENCHMARK_WEIGHT, BENCHMARK_CONTRIBUTION, DURATION_EFFECT, YIELD_CURVE_EFFECT, ALLOCATION_EFFECT, 
	SELECTION_EFFECT, FX_EFFECT, TOTAL_EFFECT, DATETIME_INSERTED, LATEST_FLAG
FROM
	CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION N;]]></string>
		</script>
		<browser id="Browse-2655" name="Relational Data Explorer" confirm_updates="y" >
			<browse_table schema="CUTTER_DW.DW" entity="FACT_PERFORMANCE_ATTRIBUTION" x="-2147483648" y="-2147483648" width="-2147483648" height="-2147483648" >
				<browse_table schema="CUTTER_DW.DW" entity="DIM_PORTFOLIO" fk="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_PORTFOLIO" x="40" y="-2147483648" width="500" height="350" record_view="y" >
					<browse_table schema="CUTTER_DW.DW" entity="FACT_CLIENT_ACCOUNT_RELATIONSHIP" fk="FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_PORTFOLIO" x="580" y="-2147483648" width="500" height="350" />
				</browse_table>
			</browse_table>
		</browser>
		<query id="Query-1df6" name="Query Builder" >
			<query_table schema="CUTTER_DW.DW" name="FACT_PERFORMANCE_ATTRIBUTION" alias="fpa" x="51" y="51" >
				<column name="DATE_KEY" />
				<column name="PORTFOLIO_KEY" />
				<column name="PERFORMANCE_RETURN_PERIOD_KEY" />
				<column name="ATTRIBUTION_METHOD_KEY" />
				<column name="ATTRIBUTION_FACTOR_KEY" />
				<column name="PORTFOLIO_WEIGHT" />
				<column name="PORTFOLIO_CONTRIBUTION" />
				<column name="BENCHMARK_WEIGHT" />
				<column name="BENCHMARK_CONTRIBUTION" />
				<column name="DURATION_EFFECT" />
				<column name="YIELD_CURVE_EFFECT" />
				<column name="ALLOCATION_EFFECT" />
				<column name="SELECTION_EFFECT" />
				<column name="FX_EFFECT" />
				<column name="TOTAL_EFFECT" />
				<column name="DATETIME_INSERTED" />
				<column name="LATEST_FLAG" />
				<query_table schema="CUTTER_DW.DW" name="DIM_PORTFOLIO" alias="dp" x="442" y="51" fk="FK_FACT_PERFORMANCE_ATTRIBUTION_DIM_PORTFOLIO" type="Inner Join" >
					<column name="PORTFOLIO_KEY" />
					<column name="PORTFOLIO_CODE" />
					<column name="PORTFOLIO_LEGAL_NAME" />
					<column name="PORTFOLIO_SHORT_NAME" />
					<column name="PORTFOLIO_STATUS" />
					<column name="PORTFOLIO_TYPE" />
					<column name="BASE_CURRENCY" />
					<column name="INCEPTION_DATE" />
					<column name="BENCHMARK_CODE" />
					<column name="PORTFOLIO_GROUP" />
					<column name="LEGAL_STRUCTURE" />
					<column name="TAX_EXEMPT_INDICATOR" />
					<column name="VALID_FROM" />
					<column name="VALID_TO" />
					<column name="LATEST_FLAG" />
					<query_table schema="CUTTER_DW.DW" name="FACT_CLIENT_ACCOUNT_RELATIONSHIP" alias="fcar" x="748" y="51" fk="FK_FACT_ACCOUNT_CLIENT_RELATIONSHIP_DIM_PORTFOLIO" type="Inner Join" >
						<column name="CLIENT_KEY" />
						<column name="ACCOUNT_KEY" />
						<column name="PORTFOLIO_KEY" />
						<column name="PRODUCT_KEY" />
						<column name="DESCRIPTION" />
						<column name="DATETIME_INSERTED" />
						<column name="LATEST_FLAG" />
					</query_table>
				</query_table>
			</query_table>
		</query>
		<form name="Report" id="Report-1f3" template="Page" css="container-fluid" view="frame" >
			<var name="samplePageNumber" type="4" value="0" mandatory="n" />
			<var name="sampleRecordsPerPage" type="4" value="100" mandatory="n" />
			<body name="Body" template="Grid" pos="0,0,0,0,f,f" layout="{{-2,-2,-2,-2,-1},{-2,-2,-2,-2}}" scroll="n" html="n" >
				<cell type="label" name="Fact_performance_attribution Data" template="H3" pos="0,0,1,0,l,c" />
				<cell type="chart" name="Pie" template="Pie" pos="0,1,4,1,l,c" max_records="20" >
					<form_script type="DataSource" language="SQL" >
						<var name="DATE_KEY" type="4" />
						<var name="PORTFOLIO_KEY" type="4" />
						<var name="PERFORMANCE_RETURN_PERIOD_KEY" type="4" />
						<var name="ATTRIBUTION_METHOD_KEY" type="4" />
						<var name="ATTRIBUTION_FACTOR_KEY" type="4" />
						<var name="PORTFOLIO_WEIGHT" type="3" />
						<var name="PORTFOLIO_CONTRIBUTION" type="3" />
						<var name="BENCHMARK_WEIGHT" type="3" />
						<var name="BENCHMARK_CONTRIBUTION" type="3" />
						<var name="DURATION_EFFECT" type="3" />
						<var name="YIELD_CURVE_EFFECT" type="3" />
						<var name="ALLOCATION_EFFECT" type="3" />
						<var name="SELECTION_EFFECT" type="3" />
						<var name="FX_EFFECT" type="3" />
						<var name="TOTAL_EFFECT" type="3" />
						<var name="DATETIME_INSERTED" type="93" />
						<var name="LATEST_FLAG" type="16" />
						<script ><![CDATA[SELECT * FROM CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION]]></script>
					</form_script>
					<param name="width" value="100%" />
					<param name="title" value="Sample Chart" />
					<param name="value" value="ATTRIBUTION_FACTOR_KEY" />
					<param name="height" value="400px" />
				</cell>
				<tableview name="sample" template="Table" css="table table-striped table-sm table-hover" pos="0,2,4,2,f,f" layout="{{-2,-2,-2,-2,-2,-2,-2},{-2,-2}}" scroll="n" html="n" header_rows="1" >
					<form_script type="DataSource" language="SQL" >
						<var name="DATE_KEY" type="4" />
						<var name="PORTFOLIO_KEY" type="4" />
						<var name="PERFORMANCE_RETURN_PERIOD_KEY" type="4" />
						<var name="ATTRIBUTION_METHOD_KEY" type="4" />
						<var name="ATTRIBUTION_FACTOR_KEY" type="4" />
						<var name="PORTFOLIO_WEIGHT" type="3" />
						<var name="PORTFOLIO_CONTRIBUTION" type="3" />
						<var name="BENCHMARK_WEIGHT" type="3" />
						<var name="BENCHMARK_CONTRIBUTION" type="3" />
						<var name="DURATION_EFFECT" type="3" />
						<var name="YIELD_CURVE_EFFECT" type="3" />
						<var name="ALLOCATION_EFFECT" type="3" />
						<var name="SELECTION_EFFECT" type="3" />
						<var name="FX_EFFECT" type="3" />
						<var name="TOTAL_EFFECT" type="3" />
						<var name="DATETIME_INSERTED" type="93" />
						<var name="LATEST_FLAG" type="16" />
						<script ><![CDATA[SELECT * FROM CUTTER_DW.DW.FACT_PERFORMANCE_ATTRIBUTION]]></script>
					</form_script>
					<cell type="label" name="DATE_KEY" pos="0,0,0,0,c,c" />
					<cell type="label" name="PORTFOLIO_KEY" pos="1,0,1,0,c,c" />
					<cell type="label" name="PERFORMANCE_RETURN_PERIOD_KEY" pos="2,0,2,0,c,c" />
					<cell type="label" name="ATTRIBUTION_METHOD_KEY" pos="3,0,3,0,c,c" />
					<cell type="label" name="ATTRIBUTION_FACTOR_KEY" pos="4,0,4,0,c,c" />
					<cell type="label" name="PORTFOLIO_WEIGHT" pos="5,0,5,0,c,c" />
					<cell type="label" name="${DATE_KEY}" template="Plain" pos="0,1,0,1,l,c" />
					<cell type="label" name="${PORTFOLIO_KEY}" template="Plain" pos="1,1,1,1,l,c" />
					<cell type="label" name="${PERFORMANCE_RETURN_PERIOD_KEY}" template="Plain" pos="2,1,2,1,l,c" />
					<cell type="label" name="${ATTRIBUTION_METHOD_KEY}" template="Plain" pos="3,1,3,1,l,c" />
					<cell type="label" name="${ATTRIBUTION_FACTOR_KEY}" template="Plain" pos="4,1,4,1,l,c" />
					<cell type="label" name="${PORTFOLIO_WEIGHT}" template="Plain" pos="5,1,5,1,l,c" />
					<cell type="button" name="More" template="Plain" css="btn btn-sm btn-secondary" pos="6,1,6,1,c,c" ref_id="Report-1f3" />
				</tableview>
				<cell type="href" name="" disabled="${samplePageNumber&lt;1}" pos="0,3,0,3,l,c" glyph="bi-chevron_double_left" ref_id="Report-1f3" >
					<var name="samplePageNumber" value="0" />
				</cell>
				<cell type="href" name="" disabled="${samplePageNumber&lt;1}" pos="1,3,1,3,l,c" glyph="bi-chevron_left" ref_id="Report-1f3" >
					<var name="samplePageNumber" value="${Math.max(0,samplePageNumber-1)}" />
				</cell>
				<cell type="label" name="Page ${samplePageNumber+1}" pos="2,3,2,3,l,c" />
				<cell type="href" name="" disabled="${!sampleHasNextPage}" pos="3,3,3,3,l,c" glyph="bi-chevron_right" ref_id="Report-1f3" >
					<var name="samplePageNumber" value="${( samplePageNumber+1 )}" />
				</cell>
			</body>
		</form>
	</layout>
</project>